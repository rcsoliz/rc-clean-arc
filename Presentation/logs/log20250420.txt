2025-04-20 08:58:52.609 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 08:58:53.138 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 08:58:53.141 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 08:58:53.242 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 08:58:53.244 -04:00 [INF] Hosting environment: Development
2025-04-20 08:58:53.246 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 08:58:55.294 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 08:58:56.029 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 764.9745ms
2025-04-20 08:58:56.039 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 08:58:56.044 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 08:58:56.272 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 08:58:56.289 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 249.7912ms
2025-04-20 08:58:56.709 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 669.2728ms
2025-04-20 08:58:56.788 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 08:58:56.875 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:58:56.904 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.0958ms
2025-04-20 08:58:56.986 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 08:58:59.286 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 08:58:59.466 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 08:58:59.482 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 08:58:59.498 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2504.5264ms
2025-04-20 08:58:59.501 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:58:59.520 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3248.5088ms
2025-04-20 08:59:00.115 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 08:59:00.125 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:00.127 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 08:59:00.161 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 08:59:00.174 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 08:59:00.180 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 08:59:00.184 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 08:59:00.185 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 54.4469ms
2025-04-20 08:59:00.190 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:00.193 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 78.1864ms
2025-04-20 08:59:00.292 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 22:12:38', Current time (UTC): '20/04/2025 12:59:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-20 08:59:00.331 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 22:12:38', Current time (UTC): '20/04/2025 12:59:00'.
2025-04-20 08:59:00.340 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-20 08:59:00.349 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-20 08:59:00.351 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 167.7684ms
2025-04-20 08:59:00.363 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-20 08:59:00.368 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 22:12:38', Current time (UTC): '20/04/2025 12:59:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-20 08:59:00.373 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 22:12:38', Current time (UTC): '20/04/2025 12:59:00'.
2025-04-20 08:59:00.375 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-20 08:59:00.381 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-20 08:59:00.537 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-20 08:59:00.706 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 320.2365ms
2025-04-20 08:59:00.709 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-20 08:59:00.713 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-20 08:59:00.748 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 384.07ms
2025-04-20 08:59:01.808 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-20 08:59:01.814 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 22:12:38', Current time (UTC): '20/04/2025 12:59:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-20 08:59:01.819 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 22:12:38', Current time (UTC): '20/04/2025 12:59:01'.
2025-04-20 08:59:01.821 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-20 08:59:01.826 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-20 08:59:01.863 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-20 08:59:02.031 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-20 08:59:02.056 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-20 08:59:02.057 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 228.0162ms
2025-04-20 08:59:02.059 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-20 08:59:02.060 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 252.2937ms
2025-04-20 08:59:02.101 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 08:59:02.105 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:02.106 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 08:59:02.114 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 08:59:02.121 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 08:59:02.125 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 08:59:02.126 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 17.7308ms
2025-04-20 08:59:02.128 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:02.129 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 27.6952ms
2025-04-20 08:59:02.221 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 08:59:02.228 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:02.230 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 08:59:02.240 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 08:59:02.246 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 08:59:02.252 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 08:59:02.255 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 17.7558ms
2025-04-20 08:59:02.257 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:02.260 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 38.8896ms
2025-04-20 08:59:17.340 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-20 08:59:17.344 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-20 08:59:17.349 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-20 08:59:17.370 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-20 08:59:17.922 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-20 08:59:17.926 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-20 08:59:17.930 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 578.0998ms
2025-04-20 08:59:17.932 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-20 08:59:17.934 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 594.4653ms
2025-04-20 08:59:17.965 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 08:59:17.969 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:17.971 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 08:59:17.976 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 08:59:17.981 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 08:59:17.986 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 08:59:17.988 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 15.5383ms
2025-04-20 08:59:17.990 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:17.992 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 26.9583ms
2025-04-20 08:59:18.075 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 08:59:18.078 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:18.080 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 08:59:18.100 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 08:59:18.119 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 08:59:18.120 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 08:59:18.128 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 08:59:18.130 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 39.0487ms
2025-04-20 08:59:18.132 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 08:59:18.134 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 58.8681ms
2025-04-20 08:59:18.139 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 08:59:18.144 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 08:59:18.163 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 08:59:18.171 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 08:59:18.175 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 27.4045ms
2025-04-20 08:59:18.176 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 08:59:18.178 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 59.5923ms
2025-04-20 09:06:23.322 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:06:23.695 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:06:23.697 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:06:23.780 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:06:23.781 -04:00 [INF] Hosting environment: Development
2025-04-20 09:06:23.782 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:06:24.729 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:06:25.165 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 466.1663ms
2025-04-20 09:06:25.186 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:06:25.186 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:06:25.218 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 31.7228ms
2025-04-20 09:06:25.346 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 160.8506ms
2025-04-20 09:06:25.474 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:06:25.802 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 328.5634ms
2025-04-20 09:06:27.423 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:06:27.512 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:06:27.540 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:06:29.617 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:06:29.804 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:06:29.821 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:06:29.838 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2292.4373ms
2025-04-20 09:06:29.840 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:06:29.863 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2440.6959ms
2025-04-20 09:06:30.408 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:06:30.420 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:06:30.422 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:06:30.455 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:06:30.464 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:06:30.470 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:06:30.470 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:06:30.476 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 50.5478ms
2025-04-20 09:06:30.478 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:06:30.480 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 72.4077ms
2025-04-20 09:06:30.554 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:06:30.559 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:06:30.653 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:06:30.663 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:06:30.667 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 104.1656ms
2025-04-20 09:06:30.668 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:06:30.670 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 200.0879ms
2025-04-20 09:07:05.577 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:07:06.003 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:07:06.005 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:07:06.094 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:07:06.102 -04:00 [INF] Hosting environment: Development
2025-04-20 09:07:06.104 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:07:06.880 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:07:07.122 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:07:07.232 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 380.6814ms
2025-04-20 09:07:07.234 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:07:07.234 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:07:07.258 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 24.021ms
2025-04-20 09:07:07.280 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:07:07.389 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 155.3637ms
2025-04-20 09:07:07.395 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:07:07.514 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:07:07.625 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.2697ms
2025-04-20 09:07:09.321 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:07:09.506 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:07:09.522 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:07:09.539 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2133.871ms
2025-04-20 09:07:09.541 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:07:09.560 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2439.3472ms
2025-04-20 09:07:09.984 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:07:09.994 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:07:09.995 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:07:10.029 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:07:10.038 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:07:10.045 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:07:10.048 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 49.6119ms
2025-04-20 09:07:10.050 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:07:10.052 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:07:10.053 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 68.6433ms
2025-04-20 09:07:10.133 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:07:10.139 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:07:10.216 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:07:10.227 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:07:10.230 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 87.8749ms
2025-04-20 09:07:10.232 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:07:10.235 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 183.1294ms
2025-04-20 09:11:27.400 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:11:27.802 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:11:27.804 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:11:27.916 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:11:27.918 -04:00 [INF] Hosting environment: Development
2025-04-20 09:11:27.919 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:11:28.395 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:11:28.917 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 550.6829ms
2025-04-20 09:11:28.921 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:11:28.934 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:11:28.951 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 29.8344ms
2025-04-20 09:11:29.057 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.238ms
2025-04-20 09:11:29.202 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:11:29.435 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 233.2674ms
2025-04-20 09:11:31.078 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:11:31.170 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:11:31.203 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:11:32.748 -04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:11:32.964 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:11:32.987 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:11:33.013 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1800.2071ms
2025-04-20 09:11:33.015 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:11:33.038 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 1960.1629ms
2025-04-20 09:11:33.518 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:11:33.527 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:11:33.529 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:11:33.555 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:11:33.563 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:11:33.568 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:11:33.571 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 39.4155ms
2025-04-20 09:11:33.580 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:11:33.581 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:11:33.585 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 68.0224ms
2025-04-20 09:11:33.652 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:11:33.660 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:11:33.745 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:11:33.754 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:11:33.757 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 94.3782ms
2025-04-20 09:11:33.759 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:11:33.760 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 181.5684ms
2025-04-20 09:12:02.315 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:12:02.679 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:12:02.681 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:12:02.760 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:12:02.762 -04:00 [INF] Hosting environment: Development
2025-04-20 09:12:02.763 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:12:03.330 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:12:03.682 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 377.6794ms
2025-04-20 09:12:03.768 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:12:03.829 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 63.063ms
2025-04-20 09:12:03.836 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:12:03.954 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.8337ms
2025-04-20 09:12:04.197 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:12:04.271 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.6434ms
2025-04-20 09:12:04.359 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:12:04.486 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:12:04.519 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:12:06.144 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:12:06.343 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:12:06.362 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:12:06.382 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1856.4947ms
2025-04-20 09:12:06.384 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:12:06.406 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2047.732ms
2025-04-20 09:12:06.852 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:12:06.866 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:12:06.870 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:12:06.907 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:12:06.917 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:12:06.924 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:12:06.924 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:12:06.931 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 57.2067ms
2025-04-20 09:12:06.933 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:12:06.937 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 84.4852ms
2025-04-20 09:12:07.018 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:12:07.024 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:12:07.124 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:12:07.134 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:12:07.137 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 110.7111ms
2025-04-20 09:12:07.139 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:12:07.141 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 216.8425ms
2025-04-20 09:14:49.380 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:14:49.745 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:14:49.746 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:14:49.869 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:14:49.871 -04:00 [INF] Hosting environment: Development
2025-04-20 09:14:49.872 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:14:50.276 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:14:50.545 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 290.1774ms
2025-04-20 09:14:50.559 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:14:50.559 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:14:50.581 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 22.1859ms
2025-04-20 09:14:50.642 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.2974ms
2025-04-20 09:14:50.746 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:14:50.813 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.0968ms
2025-04-20 09:14:53.609 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:14:53.703 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:14:53.728 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:14:55.578 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:14:55.814 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:14:55.837 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:14:55.859 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2124.7156ms
2025-04-20 09:14:55.861 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:14:55.880 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2271.9945ms
2025-04-20 09:14:56.415 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:14:56.426 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:14:56.428 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:14:56.463 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:14:56.472 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:14:56.479 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:14:56.479 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:14:56.484 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 52.25ms
2025-04-20 09:14:56.487 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:14:56.492 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 77.6056ms
2025-04-20 09:14:56.575 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:14:56.580 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:14:56.668 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:14:56.679 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:14:56.682 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 98.7528ms
2025-04-20 09:14:56.684 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:14:56.686 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 207.6654ms
2025-04-20 09:18:37.266 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:18:37.617 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:18:37.618 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:18:37.687 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:18:37.688 -04:00 [INF] Hosting environment: Development
2025-04-20 09:18:37.689 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:18:38.792 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:18:39.315 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:18:39.686 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:18:39.753 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:18:39.766 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 998.1344ms
2025-04-20 09:18:39.802 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:18:39.809 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:18:39.846 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 44.3914ms
2025-04-20 09:18:39.954 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 145.4478ms
2025-04-20 09:18:40.064 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:18:40.161 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.4219ms
2025-04-20 09:18:41.891 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:18:42.049 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:18:42.069 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:18:42.084 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2322.2349ms
2025-04-20 09:18:42.086 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:18:42.105 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2791.481ms
2025-04-20 09:18:42.487 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:18:42.496 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:18:42.498 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:18:42.528 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:18:42.536 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:18:42.541 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:18:42.545 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 43.1967ms
2025-04-20 09:18:42.545 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:18:42.547 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:18:42.552 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 64.9692ms
2025-04-20 09:18:42.624 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:18:42.630 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:18:42.729 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:18:42.738 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:18:42.742 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 108.0303ms
2025-04-20 09:18:42.743 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:18:42.745 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 200.2208ms
2025-04-20 09:21:51.091 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:21:51.547 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:21:51.551 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:21:51.739 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:21:51.787 -04:00 [INF] Hosting environment: Development
2025-04-20 09:21:51.847 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:21:52.434 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:21:52.842 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:21:53.025 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:21:53.070 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:21:53.086 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 670.41ms
2025-04-20 09:21:53.108 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:21:53.108 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:21:53.142 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 33.5174ms
2025-04-20 09:21:53.235 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.3146ms
2025-04-20 09:21:53.368 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:21:53.462 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.2893ms
2025-04-20 09:21:55.200 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:21:55.364 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:21:55.381 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:21:55.398 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2318.7331ms
2025-04-20 09:21:55.400 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:21:55.422 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2580.3513ms
2025-04-20 09:21:55.870 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:21:55.883 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:21:55.885 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:21:55.930 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:21:55.940 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:21:55.946 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:21:55.947 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:21:55.951 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 62.1643ms
2025-04-20 09:21:55.953 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:21:55.957 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 87.6738ms
2025-04-20 09:21:56.065 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:21:56.075 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:21:56.203 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:21:56.214 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:21:56.218 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 138.8083ms
2025-04-20 09:21:56.220 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:21:56.222 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 275.6079ms
2025-04-20 09:23:18.471 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/postcategories - application/json; charset=utf-8 null
2025-04-20 09:23:18.476 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-20 09:23:18.482 -04:00 [INF] Route matched with {action = "Create", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Application.Features.PostsCategories.Commands.CreatePostCategories.CreatePostCategoryCommand) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 09:23:18.767 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Posts] ([CreatedAt], [ImageUrl], [PostContent], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-20 09:23:18.845 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PostCategories] ([CategoryId], [PostId])
VALUES (@p0, @p1),
(@p2, @p3);
2025-04-20 09:23:18.860 -04:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.ValueTuple`2[[Core.Entities.Post, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-20 09:23:18.883 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.Create (Presentation) in 398.3735ms
2025-04-20 09:23:18.885 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-20 09:23:18.887 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/postcategories - 201 null application/json; charset=utf-8 416.885ms
2025-04-20 09:23:18.932 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:23:18.935 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:23:18.936 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:23:18.945 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:23:18.954 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:23:18.957 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:23:18.959 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 20.8751ms
2025-04-20 09:23:18.961 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:23:18.962 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 30.2239ms
2025-04-20 09:23:19.087 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:23:19.091 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:23:19.092 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:23:19.107 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:23:19.130 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:23:19.130 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:23:19.135 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:23:19.138 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:23:19.139 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 42.7047ms
2025-04-20 09:23:19.141 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:23:19.142 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:23:19.147 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 59.4788ms
2025-04-20 09:23:19.152 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:23:19.158 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:23:19.160 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 15.3419ms
2025-04-20 09:23:19.162 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:23:19.163 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 32.5253ms
2025-04-20 09:24:37.794 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 09:24:38.209 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 09:24:38.211 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 09:24:38.294 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 09:24:38.297 -04:00 [INF] Hosting environment: Development
2025-04-20 09:24:38.309 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 09:24:39.153 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 09:24:39.449 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:24:39.705 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:24:39.829 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:24:39.891 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 763.763ms
2025-04-20 09:24:39.916 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 09:24:39.972 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 09:24:40.152 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 237.0232ms
2025-04-20 09:24:40.395 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 423.6747ms
2025-04-20 09:24:40.639 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 09:24:40.700 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.9058ms
2025-04-20 09:24:42.268 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:24:42.438 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:24:42.453 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:24:42.469 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2355.5437ms
2025-04-20 09:24:42.470 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:24:42.487 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3038.3794ms
2025-04-20 09:24:42.975 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 09:24:42.989 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:24:42.992 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 09:24:43.034 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 09:24:43.044 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 09:24:43.046 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 09:24:43.049 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:24:43.052 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 55.747ms
2025-04-20 09:24:43.054 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 09:24:43.058 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 82.4369ms
2025-04-20 09:24:43.125 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:24:43.131 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 09:24:43.209 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 09:24:43.220 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 09:24:43.224 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 89.3307ms
2025-04-20 09:24:43.226 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 09:24:43.229 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 183.3671ms
2025-04-20 10:10:31.190 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 10:10:31.603 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 10:10:31.605 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 10:10:31.712 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 10:10:31.714 -04:00 [INF] Hosting environment: Development
2025-04-20 10:10:31.717 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 10:10:32.802 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 10:10:33.233 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:10:33.539 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:10:33.631 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 861.4309ms
2025-04-20 10:10:33.641 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 10:10:33.641 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 10:10:33.681 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 40.1165ms
2025-04-20 10:10:33.686 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:10:33.830 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 188.4851ms
2025-04-20 10:10:33.933 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 10:10:34.049 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.2497ms
2025-04-20 10:10:37.149 -04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:10:37.333 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:10:37.352 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:10:37.367 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 3617.4473ms
2025-04-20 10:10:37.369 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:10:37.389 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 4156.6449ms
2025-04-20 10:10:37.821 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:10:37.832 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:10:37.834 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:10:37.865 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:10:37.873 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:10:37.879 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:10:37.882 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 45.5735ms
2025-04-20 10:10:37.883 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:10:37.889 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 10:10:37.889 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 68.4671ms
2025-04-20 10:10:37.980 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:10:37.986 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 10:10:38.100 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 10:10:38.111 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:10:38.114 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 125.0205ms
2025-04-20 10:10:38.116 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:10:38.118 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 228.5573ms
2025-04-20 10:10:54.361 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-20 10:10:54.369 -04:00 [INF] CORS policy execution failed.
2025-04-20 10:10:54.371 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-20 10:10:54.376 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-20 10:10:54.386 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-20 10:10:54.451 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-20 10:10:55.277 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-20 10:10:55.293 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-20 10:10:55.297 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 908.4483ms
2025-04-20 10:10:55.299 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-20 10:10:55.300 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 939.1021ms
2025-04-20 10:11:31.099 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories - null null
2025-04-20 10:11:31.125 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-20 10:11:31.134 -04:00 [INF] Route matched with {action = "GetAll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAll() on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:11:31.301 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]), (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [p].[Id] = [l].[PostId]), [u].[Id], [t].[CategoryId], [t].[Name], [t].[PostId], [t].[CategoryId0]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[Id], [u].[Id], [t].[PostId], [t].[CategoryId0]
2025-04-20 10:11:31.461 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAll (Presentation) in 322.7861ms
2025-04-20 10:11:31.463 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-20 10:11:31.466 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PostDto -> PostWithCategoriesDto
Application.DTOs.PostDto -> Application.DTOs.PostWithCategoriesDto
   at lambda_method242(Closure, PostDto, PostWithCategoriesDto, ResolutionContext)
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   at Application.Features.PostsCategories.Queries.GetAllPostsWithCategories.GetAllPostsWithCategoriesHandler.Handle(GetAllPostsWithCategoriesQuery request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\PostsCategories\Queries\GetAllPostsWithCategories\GetAllPostsWithCategoriesHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.PostCategoriesController.GetAll() in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\PostCategoriesController.cs:line 30
   at lambda_method228(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-20 10:11:31.526 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories - 500 null text/plain; charset=utf-8 426.5893ms
2025-04-20 10:12:09.095 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-20 10:12:09.100 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:12:09.101 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 10:12:09.110 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 10:12:09.115 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:12:09.118 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 14.6364ms
2025-04-20 10:12:09.120 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:12:09.122 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 26.5762ms
2025-04-20 10:12:17.213 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories - null null
2025-04-20 10:12:17.216 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-20 10:12:17.218 -04:00 [INF] Route matched with {action = "GetAll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAll() on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:12:17.250 -04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]), (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [p].[Id] = [l].[PostId]), [u].[Id], [t].[CategoryId], [t].[Name], [t].[PostId], [t].[CategoryId0]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[Id], [u].[Id], [t].[PostId], [t].[CategoryId0]
2025-04-20 10:12:17.340 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAll (Presentation) in 119.8995ms
2025-04-20 10:12:17.342 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-20 10:12:17.345 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PostDto -> PostWithCategoriesDto
Application.DTOs.PostDto -> Application.DTOs.PostWithCategoriesDto
   at lambda_method242(Closure, PostDto, PostWithCategoriesDto, ResolutionContext)
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   at Application.Features.PostsCategories.Queries.GetAllPostsWithCategories.GetAllPostsWithCategoriesHandler.Handle(GetAllPostsWithCategoriesQuery request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\PostsCategories\Queries\GetAllPostsWithCategories\GetAllPostsWithCategoriesHandler.cs:line 24
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.PostCategoriesController.GetAll() in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\PostCategoriesController.cs:line 30
   at lambda_method228(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-20 10:12:17.369 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories - 500 null text/plain; charset=utf-8 156.4877ms
2025-04-20 10:12:54.138 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-18&take=5 - null null
2025-04-20 10:12:54.143 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:12:54.150 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:12:54.201 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:12:54.297 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 143.0626ms
2025-04-20 10:12:54.299 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:12:54.302 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PostDto -> PostWithCategoriesDto
Application.DTOs.PostDto -> Application.DTOs.PostWithCategoriesDto
   at lambda_method242(Closure, PostDto, PostWithCategoriesDto, ResolutionContext)
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   at Application.Features.PostsCategories.Queries.GetPostsByScroll.GetPostsByScrollHandler.Handle(GetPostsByScrollQuery request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\PostsCategories\Queries\GetPostsByScroll\GetPostsByScrollHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.PostCategoriesController.GetAllWithScroll(Nullable`1 lastPostDate, Int32 take) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\PostCategoriesController.cs:line 37
   at lambda_method246(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-20 10:12:54.335 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-18&take=5 - 500 null text/plain; charset=utf-8 197.0262ms
2025-04-20 10:13:22.112 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-18&take=5 - null null
2025-04-20 10:13:22.124 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:13:22.144 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:13:49.980 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:13:50.067 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 27915.4439ms
2025-04-20 10:13:50.069 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:13:50.071 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PostDto -> PostWithCategoriesDto
Application.DTOs.PostDto -> Application.DTOs.PostWithCategoriesDto
   at lambda_method242(Closure, PostDto, PostWithCategoriesDto, ResolutionContext)
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   at Application.Features.PostsCategories.Queries.GetPostsByScroll.GetPostsByScrollHandler.Handle(GetPostsByScrollQuery request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\PostsCategories\Queries\GetPostsByScroll\GetPostsByScrollHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.PostCategoriesController.GetAllWithScroll(Nullable`1 lastPostDate, Int32 take) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\PostCategoriesController.cs:line 37
   at lambda_method246(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-20 10:13:50.099 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-18&take=5 - 500 null text/plain; charset=utf-8 27994.6222ms
2025-04-20 10:14:22.556 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-18&take=5 - null null
2025-04-20 10:14:22.563 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:14:22.580 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:14:43.749 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:14:59.487 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 36894.6877ms
2025-04-20 10:14:59.489 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:14:59.492 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PostDto -> PostWithCategoriesDto
Application.DTOs.PostDto -> Application.DTOs.PostWithCategoriesDto
   at lambda_method242(Closure, PostDto, PostWithCategoriesDto, ResolutionContext)
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method241(Closure, Object, IEnumerable`1, ResolutionContext)
   at Application.Features.PostsCategories.Queries.GetPostsByScroll.GetPostsByScrollHandler.Handle(GetPostsByScrollQuery request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\PostsCategories\Queries\GetPostsByScroll\GetPostsByScrollHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.PostCategoriesController.GetAllWithScroll(Nullable`1 lastPostDate, Int32 take) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\PostCategoriesController.cs:line 37
   at lambda_method246(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-20 10:14:59.518 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-18&take=5 - 500 null text/plain; charset=utf-8 36966.6642ms
2025-04-20 10:18:06.804 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 10:18:07.180 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 10:18:07.181 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 10:18:07.252 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 10:18:07.254 -04:00 [INF] Hosting environment: Development
2025-04-20 10:18:07.254 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 10:18:08.268 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 10:18:08.446 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:18:08.870 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:18:08.926 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 684.2137ms
2025-04-20 10:18:08.932 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:18:08.947 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 10:18:08.948 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 10:18:08.975 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 28.1445ms
2025-04-20 10:18:09.078 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.7996ms
2025-04-20 10:18:09.213 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 10:18:09.305 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.2994ms
2025-04-20 10:18:10.881 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:18:11.073 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:18:11.093 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:18:11.112 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2149.447ms
2025-04-20 10:18:11.113 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:18:11.140 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2694.7939ms
2025-04-20 10:18:11.762 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:18:11.779 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:18:11.782 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:18:11.851 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:18:11.866 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:18:11.874 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:18:11.878 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 90.8433ms
2025-04-20 10:18:11.880 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:18:11.886 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 124.3605ms
2025-04-20 10:18:11.895 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 10:18:12.003 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:18:12.013 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 10:18:12.145 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 10:18:12.161 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:18:12.166 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 147.0775ms
2025-04-20 10:18:12.171 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:18:12.173 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 278.3947ms
2025-04-20 10:18:26.542 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:18:26.547 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:18:26.557 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:18:29.806 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:18:29.834 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:18:29.838 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 3278.6228ms
2025-04-20 10:18:29.841 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:18:29.842 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 200 null application/json; charset=utf-8 3301.2716ms
2025-04-20 10:19:17.569 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:19:17.597 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:19:17.603 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:19:33.632 -04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-04-20 10:19:33.657 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CreatedAt], [p].[ImageUrl], [p].[PostContent], [p].[UpdatedAt], [p].[UserId], [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username], [t].[PostId], [t].[CategoryId], [t].[Id], [t].[CreatedAt], [t].[Name], [t].[UpdatedAt], [l].[Id], [l].[CommentId], [l].[CreatedAt], [l].[PostId], [l].[UpdatedAt], [l].[UserId]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [p0].[PostId], [p0].[CategoryId], [c].[Id], [c].[CreatedAt], [c].[Name], [c].[UpdatedAt]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
LEFT JOIN [Likes] AS [l] ON [p].[Id] = [l].[PostId]
ORDER BY [p].[CreatedAt] DESC, [p].[Id], [u].[Id], [t].[PostId], [t].[CategoryId], [t].[Id]
2025-04-20 10:19:45.670 -04:00 [ERR] Failed executing DbCommand (35ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:19:45.701 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-04-20 10:19:45.912 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 28305.1199ms
2025-04-20 10:19:45.914 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:19:45.918 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Infrastructure.Data.Repositories.PostCategoryRepository.GetPostsByScrollAsync(Nullable`1 lastPostDate, Int32 take) in D:\DESARROLLO\2025\CleanArchitectureApi\Infrastructure\Data\Repositories\PostCategoryRepository.cs:line 195
   at Application.Features.PostsCategories.Queries.GetPostsByScroll.GetPostsByScrollHandler.Handle(GetPostsByScrollQuery request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\PostsCategories\Queries\GetPostsByScroll\GetPostsByScrollHandler.cs:line 19
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.PostCategoriesController.GetAllWithScroll(Nullable`1 lastPostDate, Int32 take) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\PostCategoriesController.cs:line 37
   at lambda_method45(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-20 10:19:45.984 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 500 null text/plain; charset=utf-8 28414.414ms
2025-04-20 10:19:52.444 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:19:52.450 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:19:52.452 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:20:10.587 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:20:40.343 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:20:40.346 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 47889.1155ms
2025-04-20 10:20:40.348 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:20:40.350 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 200 null application/json; charset=utf-8 47906.2523ms
2025-04-20 10:20:44.685 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:20:44.688 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:20:44.690 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:20:59.709 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:21:45.185 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:21:45.203 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 60509.9864ms
2025-04-20 10:21:45.209 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:21:45.219 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 200 null application/json; charset=utf-8 60534.7734ms
2025-04-20 10:32:29.163 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 10:32:29.573 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 10:32:29.574 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 10:32:29.639 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 10:32:29.642 -04:00 [INF] Hosting environment: Development
2025-04-20 10:32:29.643 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 10:32:30.641 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 10:32:31.337 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 722.4173ms
2025-04-20 10:32:31.375 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:32:31.506 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 10:32:31.523 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 10:32:31.600 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 94.6424ms
2025-04-20 10:32:31.674 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:32:31.716 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 200.0662ms
2025-04-20 10:32:31.733 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:32:32.013 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 10:32:32.119 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.66ms
2025-04-20 10:32:34.271 -04:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:32:34.458 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:32:34.477 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:32:34.493 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2753.3968ms
2025-04-20 10:32:34.496 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:32:34.521 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3147.8183ms
2025-04-20 10:32:34.974 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:32:34.985 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:32:34.987 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:32:35.017 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:32:35.030 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:32:35.037 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 10:32:35.038 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:32:35.042 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 51.9583ms
2025-04-20 10:32:35.043 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:32:35.047 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 73.0785ms
2025-04-20 10:32:35.115 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:32:35.120 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 10:32:35.208 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 10:32:35.219 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:32:35.222 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 100.1193ms
2025-04-20 10:32:35.224 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:32:35.226 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 188.5734ms
2025-04-20 10:33:00.306 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:33:00.320 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:33:00.326 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:33:06.482 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:33:06.507 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:33:06.511 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 6181.5671ms
2025-04-20 10:33:06.513 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:33:06.516 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 200 null application/json; charset=utf-8 6210.6115ms
2025-04-20 10:34:10.795 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 10:34:11.287 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 10:34:11.296 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 10:34:11.438 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 10:34:11.455 -04:00 [INF] Hosting environment: Development
2025-04-20 10:34:11.467 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 10:34:12.077 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 10:34:12.197 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:34:12.450 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:34:12.508 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:34:12.561 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 509.5703ms
2025-04-20 10:34:12.574 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 10:34:12.575 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 10:34:12.621 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 45.7806ms
2025-04-20 10:34:12.708 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 134.8908ms
2025-04-20 10:34:12.825 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 10:34:12.933 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.9935ms
2025-04-20 10:34:14.558 -04:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:34:14.752 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:34:14.767 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:34:14.781 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2230.1305ms
2025-04-20 10:34:14.783 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:34:14.800 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2603.8316ms
2025-04-20 10:34:15.395 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:34:15.405 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:34:15.408 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:34:15.466 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:34:15.471 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 10:34:15.480 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:34:15.490 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:34:15.494 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 81.1987ms
2025-04-20 10:34:15.496 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:34:15.500 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 106.1689ms
2025-04-20 10:34:15.599 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:34:15.609 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 10:34:15.734 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 10:34:15.756 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:34:15.761 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 149.3383ms
2025-04-20 10:34:15.764 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:34:15.767 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 296.2174ms
2025-04-20 10:34:28.876 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:34:28.881 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:34:28.901 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:34:35.687 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:34:35.714 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:34:35.719 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 6810.2643ms
2025-04-20 10:34:35.722 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:34:35.724 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 200 null application/json; charset=utf-8 6847.6753ms
2025-04-20 10:35:47.128 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 10:35:47.648 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 10:35:47.653 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 10:35:47.848 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 10:35:47.903 -04:00 [INF] Hosting environment: Development
2025-04-20 10:35:47.905 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 10:35:48.462 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 10:35:48.571 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:35:48.868 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:35:48.920 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:35:48.968 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 530.6641ms
2025-04-20 10:35:48.994 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 10:35:49.010 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 10:35:49.049 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 54.3927ms
2025-04-20 10:35:49.118 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.861ms
2025-04-20 10:35:49.245 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 10:35:49.345 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.9552ms
2025-04-20 10:35:51.187 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:35:51.373 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:35:51.396 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:35:51.413 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2482.9283ms
2025-04-20 10:35:51.417 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:35:51.443 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2872.9991ms
2025-04-20 10:35:51.949 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:35:51.960 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:35:51.962 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:35:51.995 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:35:52.007 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 10:35:52.010 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:35:52.015 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:35:52.017 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 51.8292ms
2025-04-20 10:35:52.020 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:35:52.022 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 74.0035ms
2025-04-20 10:35:52.102 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:35:52.108 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 10:35:52.190 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 10:35:52.201 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:35:52.205 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 94.0473ms
2025-04-20 10:35:52.207 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:35:52.209 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 202.1878ms
2025-04-20 10:36:02.216 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:36:02.222 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:36:02.231 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:36:02.424 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:36:02.450 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:36:02.455 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 219.0351ms
2025-04-20 10:36:02.457 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:36:02.460 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 200 null application/json; charset=utf-8 244.9179ms
2025-04-20 10:47:15.168 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-20 10:47:15.534 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-20 10:47:15.536 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-20 10:47:15.652 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-20 10:47:15.656 -04:00 [INF] Hosting environment: Development
2025-04-20 10:47:15.658 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-20 10:47:16.616 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:47:16.616 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-20 10:47:16.948 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:47:17.014 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:47:17.065 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 475.7761ms
2025-04-20 10:47:17.091 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-20 10:47:17.091 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-20 10:47:17.165 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 73.8004ms
2025-04-20 10:47:17.251 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 160.4776ms
2025-04-20 10:47:17.375 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-20 10:47:17.460 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.4967ms
2025-04-20 10:47:19.270 -04:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:47:19.520 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:47:19.547 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:47:19.574 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2549.8721ms
2025-04-20 10:47:19.578 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:47:19.605 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3016.1605ms
2025-04-20 10:47:20.162 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-20 10:47:20.177 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:47:20.180 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-20 10:47:20.227 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-20 10:47:20.235 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-20 10:47:20.241 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-20 10:47:20.248 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:47:20.252 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 67.8083ms
2025-04-20 10:47:20.256 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-20 10:47:20.259 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 97.5177ms
2025-04-20 10:47:20.349 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:47:20.357 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-20 10:47:20.452 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-20 10:47:20.467 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:47:20.472 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 111.9074ms
2025-04-20 10:47:20.475 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-20 10:47:20.477 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 242.4529ms
2025-04-20 10:47:45.226 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - null null
2025-04-20 10:47:45.233 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:47:45.242 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-20 10:47:45.476 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-04-20 10:47:45.510 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-20 10:47:45.514 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 268.5368ms
2025-04-20 10:47:45.517 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-04-20 10:47:45.519 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19&take=5 - 200 null application/json; charset=utf-8 292.5704ms
