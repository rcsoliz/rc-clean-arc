2025-04-19 08:16:46.007 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 08:16:46.797 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 08:16:46.799 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 08:16:46.878 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 08:16:46.880 -04:00 [INF] Hosting environment: Development
2025-04-19 08:16:46.881 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 08:16:52.817 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 08:16:53.363 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 569.2552ms
2025-04-19 08:16:53.397 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 08:16:53.407 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 9.8731ms
2025-04-19 08:16:53.450 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 08:16:53.513 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:16:53.715 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:16:53.746 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:16:53.956 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 506.0678ms
2025-04-19 08:16:54.269 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 08:16:54.390 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.4387ms
2025-04-19 08:16:56.334 -04:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:16:56.671 -04:00 [INF] Executed DbCommand (204ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:16:56.689 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:16:56.704 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2952.9221ms
2025-04-19 08:16:56.706 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:16:56.722 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3209.2986ms
2025-04-19 08:16:58.318 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:16:58.330 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:16:58.333 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:16:58.372 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:16:58.380 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:16:58.386 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:16:58.390 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 52.6322ms
2025-04-19 08:16:58.392 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:16:58.396 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 77.99ms
2025-04-19 08:31:31.968 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 08:31:32.533 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 08:31:32.535 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 08:31:32.636 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 08:31:32.638 -04:00 [INF] Hosting environment: Development
2025-04-19 08:31:32.639 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 08:31:33.000 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:31:33.000 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 08:31:33.328 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:31:33.366 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:31:33.400 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 427.6613ms
2025-04-19 08:31:33.418 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 08:31:33.435 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 08:31:33.437 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 19.0628ms
2025-04-19 08:31:33.511 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.9318ms
2025-04-19 08:31:33.814 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 08:31:33.881 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.832ms
2025-04-19 08:31:35.551 -04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:31:35.739 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:31:35.756 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:31:35.771 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2399.572ms
2025-04-19 08:31:35.773 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:31:35.794 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2823.5783ms
2025-04-19 08:31:36.261 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:31:36.273 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:31:36.275 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:31:36.317 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:31:36.327 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:31:36.337 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:31:36.342 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 62.4711ms
2025-04-19 08:31:36.345 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:31:36.350 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 88.4595ms
2025-04-19 08:40:20.908 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 08:40:21.604 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 08:40:21.609 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 08:40:21.708 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 08:40:21.780 -04:00 [INF] Hosting environment: Development
2025-04-19 08:40:21.819 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 08:40:22.369 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 08:40:22.807 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 08:40:22.807 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 08:40:22.809 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 464.815ms
2025-04-19 08:40:22.823 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 15.9486ms
2025-04-19 08:40:22.895 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.787ms
2025-04-19 08:40:23.009 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 08:40:23.101 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.4383ms
2025-04-19 08:40:27.170 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:40:27.266 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:27.304 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:40:29.166 -04:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:40:29.335 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:40:29.352 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:40:29.369 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2057.9249ms
2025-04-19 08:40:29.371 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:29.389 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2219.9303ms
2025-04-19 08:40:29.814 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:40:29.826 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:29.829 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:40:29.864 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:40:29.873 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:40:29.878 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:40:29.882 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 48.3277ms
2025-04-19 08:40:29.883 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:29.886 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 73.0194ms
2025-04-19 08:40:32.076 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 08:40:32.083 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 08:40:32.090 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 08:40:32.235 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 08:40:32.422 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 08:40:32.449 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 08:40:32.451 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 357.3979ms
2025-04-19 08:40:32.452 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 08:40:32.454 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 378.1179ms
2025-04-19 08:40:32.495 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:40:32.500 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:32.501 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:40:32.509 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:40:32.516 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:40:32.520 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:40:32.524 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 20.7137ms
2025-04-19 08:40:32.526 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:32.528 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 32.6461ms
2025-04-19 08:40:32.625 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:40:32.629 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:32.632 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:40:32.642 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:40:32.657 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:40:32.667 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:40:32.669 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 32.3247ms
2025-04-19 08:40:32.671 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:32.673 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 48.3063ms
2025-04-19 08:40:55.870 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 08:40:55.875 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 08:40:55.884 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 08:40:55.913 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 08:40:56.462 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 08:40:56.471 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 08:40:56.474 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 586.7641ms
2025-04-19 08:40:56.476 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 08:40:56.478 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 608.7548ms
2025-04-19 08:40:56.519 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:40:56.524 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:56.526 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:40:56.537 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:40:56.543 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:40:56.553 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:40:56.556 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 22.8709ms
2025-04-19 08:40:56.559 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:56.563 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 44.1265ms
2025-04-19 08:40:56.661 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:40:56.677 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:56.679 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:40:56.687 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:40:56.694 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:40:56.701 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:40:56.706 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 22.1487ms
2025-04-19 08:40:56.708 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:40:56.710 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 49.4552ms
2025-04-19 08:44:28.471 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 08:44:28.900 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 08:44:28.901 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 08:44:28.991 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 08:44:28.994 -04:00 [INF] Hosting environment: Development
2025-04-19 08:44:28.995 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 08:44:29.798 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 08:44:29.806 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:44:30.013 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:44:30.058 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:44:30.148 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 379.6778ms
2025-04-19 08:44:30.176 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 08:44:30.179 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 08:44:30.228 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 51.9348ms
2025-04-19 08:44:30.306 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.7738ms
2025-04-19 08:44:30.424 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 08:44:30.495 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.7241ms
2025-04-19 08:44:32.104 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:44:32.279 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:44:32.297 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:44:32.315 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2249.6816ms
2025-04-19 08:44:32.317 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:44:32.335 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2530.0503ms
2025-04-19 08:44:32.762 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:44:32.773 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:44:32.775 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:44:32.829 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:44:32.838 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:44:32.849 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:44:32.852 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 73.3613ms
2025-04-19 08:44:32.854 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:44:32.857 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 95.0767ms
2025-04-19 08:52:05.689 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 08:52:06.173 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 08:52:06.175 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 08:52:06.303 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 08:52:06.305 -04:00 [INF] Hosting environment: Development
2025-04-19 08:52:06.307 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 08:52:06.950 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 08:52:07.760 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 855.229ms
2025-04-19 08:52:07.819 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 08:52:07.821 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 08:52:08.406 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 586.2752ms
2025-04-19 08:52:08.642 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 820.9708ms
2025-04-19 08:52:09.260 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 08:52:09.331 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.5937ms
2025-04-19 08:52:09.563 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:52:09.701 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:52:09.744 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:52:11.665 -04:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:52:11.908 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:52:11.936 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:52:11.958 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2208.1511ms
2025-04-19 08:52:11.961 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:52:11.988 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2425.7039ms
2025-04-19 08:52:12.421 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 08:52:12.430 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:52:12.435 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 08:52:12.468 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 08:52:12.477 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 08:52:12.483 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 08:52:12.486 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 46.3436ms
2025-04-19 08:52:12.487 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 08:52:12.490 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 69.6037ms
2025-04-19 09:16:47.573 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:16:48.022 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:16:48.025 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:16:48.106 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:16:48.107 -04:00 [INF] Hosting environment: Development
2025-04-19 09:16:48.109 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:16:48.716 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:16:49.475 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 785.6885ms
2025-04-19 09:16:49.651 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:16:49.653 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:16:49.856 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 205.9869ms
2025-04-19 09:16:50.126 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 473.4474ms
2025-04-19 09:16:50.590 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:16:50.717 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:16:50.827 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.6723ms
2025-04-19 09:16:50.842 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:16:50.889 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:16:52.779 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:16:52.948 -04:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:16:52.969 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:16:52.987 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2086.1996ms
2025-04-19 09:16:52.989 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:16:53.012 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2423.361ms
2025-04-19 09:16:53.019 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:16:53.029 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:16:53.036 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:16:53.037 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 18.3594ms
2025-04-19 09:16:53.511 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:16:53.520 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:16:53.523 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:16:53.561 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:16:53.569 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:16:53.575 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:16:53.578 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 49.82ms
2025-04-19 09:16:53.579 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:16:53.582 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 71.6048ms
2025-04-19 09:16:53.589 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:16:53.593 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:16:53.595 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:16:53.597 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 8.2343ms
2025-04-19 09:18:15.422 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-19 09:18:15.434 -04:00 [INF] CORS policy execution failed.
2025-04-19 09:18:15.436 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 09:18:15.441 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 09:18:15.452 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 09:18:15.592 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 09:18:16.435 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 09:18:16.455 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 09:18:16.458 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 1000.4772ms
2025-04-19 09:18:16.459 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 09:18:16.461 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 1039.4841ms
2025-04-19 09:18:34.329 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-19 09:18:34.392 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 09:18:34.398 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 09:18:34.419 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 09:18:34.425 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:18:34.428 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 26.8719ms
2025-04-19 09:18:34.430 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 09:18:34.431 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 103.2536ms
2025-04-19 09:22:15.107 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:22:15.595 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:22:15.597 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:22:15.745 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:22:15.747 -04:00 [INF] Hosting environment: Development
2025-04-19 09:22:15.749 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:22:16.295 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:22:16.878 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 615.3621ms
2025-04-19 09:22:16.930 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:22:16.936 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:22:16.990 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 60.5411ms
2025-04-19 09:22:17.112 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 176.6001ms
2025-04-19 09:22:17.252 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:22:17.469 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.1376ms
2025-04-19 09:22:18.794 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:22:18.915 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:22:18.949 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:22:20.762 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:22:20.936 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:22:20.955 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:22:20.981 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2023.094ms
2025-04-19 09:22:20.983 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:22:21.005 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2211.5701ms
2025-04-19 09:27:12.074 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:27:12.586 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:27:12.588 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:27:12.677 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:27:12.680 -04:00 [INF] Hosting environment: Development
2025-04-19 09:27:12.681 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:27:13.424 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:27:13.775 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 379.3295ms
2025-04-19 09:27:13.806 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:27:13.807 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:27:13.852 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 45.9404ms
2025-04-19 09:27:13.906 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.5407ms
2025-04-19 09:27:14.033 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:27:14.141 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.6607ms
2025-04-19 09:27:15.045 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:27:15.147 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:27:15.175 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:27:16.984 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:27:17.189 -04:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:27:17.234 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:27:17.275 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2088.8305ms
2025-04-19 09:27:17.278 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:27:17.303 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2258.3523ms
2025-04-19 09:34:21.034 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:34:21.520 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:34:21.521 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:34:21.634 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:34:21.638 -04:00 [INF] Hosting environment: Development
2025-04-19 09:34:21.653 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:34:22.221 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:34:22.815 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 623.0398ms
2025-04-19 09:34:22.823 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:34:22.823 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:34:23.020 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 196.1658ms
2025-04-19 09:34:23.185 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 361.7342ms
2025-04-19 09:34:23.402 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:34:23.717 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 314.6951ms
2025-04-19 09:34:24.347 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:34:24.482 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:34:24.513 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:34:26.208 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:34:26.610 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:34:26.632 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:34:26.652 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2133.1095ms
2025-04-19 09:34:26.654 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:34:26.677 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2330.2054ms
2025-04-19 09:34:27.192 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:34:27.203 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:34:27.205 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:34:27.244 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:34:27.252 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:34:27.256 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:34:27.264 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:34:27.269 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 59.7946ms
2025-04-19 09:34:27.272 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:34:27.275 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 82.9079ms
2025-04-19 09:34:27.352 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:34:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 09:34:27.381 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:34:27'.
2025-04-19 09:34:27.388 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:34:27.398 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:34:27.400 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 147.292ms
2025-04-19 09:48:42.459 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:48:42.970 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:48:42.972 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:48:43.082 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:48:43.092 -04:00 [INF] Hosting environment: Development
2025-04-19 09:48:43.093 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:48:43.710 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:48:44.516 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 834.4657ms
2025-04-19 09:48:44.536 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:48:44.603 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:48:45.013 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 477.8802ms
2025-04-19 09:48:45.147 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 545.0002ms
2025-04-19 09:48:45.320 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:48:45.423 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.1793ms
2025-04-19 09:48:46.615 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:48:46.727 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:48:46.765 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:48:48.712 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:48:48.906 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:48:48.925 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:48:48.941 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2167.7276ms
2025-04-19 09:48:48.944 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:48:48.961 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2347.371ms
2025-04-19 09:48:49.401 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:48:49.411 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:48:49.413 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:48:49.446 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:48:49.455 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:48:49.459 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:48:49.464 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:48:49.473 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 56.1146ms
2025-04-19 09:48:49.475 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:48:49.478 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 77.4424ms
2025-04-19 09:48:49.540 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:48:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 09:48:49.565 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:48:49'.
2025-04-19 09:48:49.571 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:48:49.581 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:48:49.582 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 122.984ms
2025-04-19 09:55:04.620 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:55:04.994 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:55:04.996 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:55:05.059 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:55:05.060 -04:00 [INF] Hosting environment: Development
2025-04-19 09:55:05.061 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:55:06.937 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:55:08.078 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 1198.9834ms
2025-04-19 09:55:08.267 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:55:08.268 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:55:08.317 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 46.987ms
2025-04-19 09:55:08.331 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:55:08.421 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 155.854ms
2025-04-19 09:55:08.486 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:55:08.541 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:55:08.591 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:55:08.753 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.0688ms
2025-04-19 09:55:10.726 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:55:10.897 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:55:10.917 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:55:10.934 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2383.5156ms
2025-04-19 09:55:10.937 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:55:10.958 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2627.4693ms
2025-04-19 09:55:11.388 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:55:11.398 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:55:11.400 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:55:11.436 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:55:14.090 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:55:14.099 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:55:14.102 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2698.8303ms
2025-04-19 09:55:14.104 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:55:14.775 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3386.5553ms
2025-04-19 09:55:15.522 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:55:30.845 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:55:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 09:55:30.875 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:55:30'.
2025-04-19 09:55:30.883 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:55:30.893 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:55:30.895 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 15372.5278ms
2025-04-19 09:56:25.780 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:56:26.173 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:56:26.174 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:56:26.269 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:56:26.272 -04:00 [INF] Hosting environment: Development
2025-04-19 09:56:26.276 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:56:27.067 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:56:27.729 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 695.7204ms
2025-04-19 09:56:27.791 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:56:27.800 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:56:27.812 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 21.1694ms
2025-04-19 09:56:27.936 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 136.8511ms
2025-04-19 09:56:28.089 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:56:28.138 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:56:28.231 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:28.238 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.6832ms
2025-04-19 09:56:28.278 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:56:30.049 -04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:56:30.233 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:56:30.250 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:56:30.266 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1979.5138ms
2025-04-19 09:56:30.268 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:30.290 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2201.1977ms
2025-04-19 09:56:30.701 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:56:30.711 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:30.714 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:56:30.750 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:56:32.354 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:56:32.362 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:56:32.366 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1648.154ms
2025-04-19 09:56:33.183 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:33.187 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2486.5839ms
2025-04-19 09:56:38.952 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:56:49.937 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:56:50.641 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:56:50.836 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:56:50.969 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:56:50.976 -04:00 [INF] Hosting environment: Development
2025-04-19 09:56:50.978 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:56:51.388 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:56:51.465 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:56:51.691 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:51.734 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:56:51.855 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 495.7045ms
2025-04-19 09:56:51.855 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:56:51.855 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:56:51.893 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 37.8677ms
2025-04-19 09:56:51.951 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.5902ms
2025-04-19 09:56:52.204 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:56:52.264 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.5452ms
2025-04-19 09:56:53.796 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:56:53.959 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:56:53.982 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:56:54.000 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2258.6464ms
2025-04-19 09:56:54.002 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:54.022 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2558.2654ms
2025-04-19 09:56:54.461 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:56:54.472 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:54.474 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:56:54.507 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:56:55.866 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:56:55.875 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:56:55.877 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1400.0194ms
2025-04-19 09:56:55.879 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:56:56.549 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2087.1488ms
2025-04-19 09:57:19.036 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:57:23.657 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:57:23'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 09:57:23.686 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:57:23'.
2025-04-19 09:57:23.693 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:57:23.702 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:57:23.703 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 4666.9993ms
2025-04-19 09:59:23.979 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:59:24.443 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 09:59:24.445 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 09:59:24.534 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:59:24.537 -04:00 [INF] Hosting environment: Development
2025-04-19 09:59:24.538 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 09:59:25.465 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 09:59:25.814 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 369.1345ms
2025-04-19 09:59:25.818 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:59:25.818 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 09:59:25.835 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 17.9058ms
2025-04-19 09:59:25.949 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 131.1466ms
2025-04-19 09:59:26.082 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 09:59:26.152 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.8164ms
2025-04-19 09:59:27.850 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:59:27.946 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:59:28.001 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:59:29.641 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:59:29.840 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:59:29.856 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:59:29.872 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1864.1156ms
2025-04-19 09:59:29.874 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:59:29.892 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2042.7349ms
2025-04-19 09:59:30.292 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 09:59:30.305 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:59:30.309 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 09:59:30.348 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 09:59:33.733 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 09:59:33.744 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:59:33.746 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 3433.5423ms
2025-04-19 09:59:33.747 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 09:59:45.087 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 14794.3662ms
2025-04-19 09:59:59.490 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 09:59:59.567 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:59:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 09:59:59.593 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 13:59:59'.
2025-04-19 09:59:59.601 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:59:59.609 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:59:59.612 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 121.5ms
2025-04-19 10:01:05.069 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-19 10:01:05.090 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-19 10:01:05.119 -04:00 [INF] CORS policy execution failed.
2025-04-19 10:01:05.121 -04:00 [INF] CORS policy execution failed.
2025-04-19 10:01:05.122 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 10:01:05.124 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 10:01:05.131 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:01:05.131 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:01:05.140 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 10:01:05.140 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 10:01:05.166 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 13.3953ms
2025-04-19 10:01:05.169 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:01:05.177 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 499 null null 108.2785ms
2025-04-19 10:01:05.324 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 10:01:06.217 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 10:01:06.237 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 10:01:06.240 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 1092.8763ms
2025-04-19 10:01:06.242 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:01:06.244 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 1154.1322ms
2025-04-19 10:01:39.368 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-19 10:01:39.399 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:01:39.404 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 10:01:39.424 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 10:01:39.432 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:01:39.436 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 29.3009ms
2025-04-19 10:01:39.438 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:01:39.440 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 73.5054ms
2025-04-19 10:02:54.167 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:02:54.675 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 10:02:54.677 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 10:02:54.877 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:02:55.188 -04:00 [INF] Hosting environment: Development
2025-04-19 10:02:55.190 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 10:02:55.841 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 10:02:56.606 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:02:56.769 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:02:56.820 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:02:56.869 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 10:02:56.869 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:02:56.884 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 1076.6509ms
2025-04-19 10:02:56.926 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 57.128ms
2025-04-19 10:02:57.045 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 176.9686ms
2025-04-19 10:02:57.156 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 10:02:57.361 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.1458ms
2025-04-19 10:02:59.013 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:02:59.196 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:02:59.214 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:02:59.229 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2385.7661ms
2025-04-19 10:02:59.231 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:02:59.251 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2645.9086ms
2025-04-19 10:02:59.693 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:02:59.703 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:02:59.705 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:02:59.736 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:03:02.999 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:03:03.005 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:03:03.009 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 3300.897ms
2025-04-19 10:03:03.010 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:03:03.014 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3321.7991ms
2025-04-19 10:03:09.850 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:03:09.940 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:03:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 10:03:09.970 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:03:09'.
2025-04-19 10:03:09.978 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 10:03:09.986 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 10:03:09.988 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 137.6475ms
2025-04-19 10:03:59.848 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-19 10:03:59.871 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:03:59.878 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 10:03:59.995 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 10:04:00.008 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:04:00.017 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 134.3457ms
2025-04-19 10:04:00.020 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:04:00.023 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 175.5446ms
2025-04-19 10:19:38.183 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:19:38.628 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 10:19:38.630 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 10:19:38.723 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:19:38.726 -04:00 [INF] Hosting environment: Development
2025-04-19 10:19:38.727 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 10:19:39.867 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 10:19:40.682 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 866.201ms
2025-04-19 10:19:40.823 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:19:40.823 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 10:19:40.946 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 122.9226ms
2025-04-19 10:19:41.115 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 292.2976ms
2025-04-19 10:19:41.558 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 10:19:41.631 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.3469ms
2025-04-19 10:19:41.681 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:19:41.849 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:19:41.896 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:19:43.730 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:19:43.903 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:19:43.921 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:19:43.941 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2039.3027ms
2025-04-19 10:19:43.944 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:19:43.968 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2287.3312ms
2025-04-19 10:19:44.394 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:19:44.407 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:19:44.409 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:19:44.449 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:19:46.906 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:19:46.912 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:19:46.916 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2500.3866ms
2025-04-19 10:19:46.918 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:19:47.790 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3396.3319ms
2025-04-19 10:19:58.970 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:19:59.041 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:19:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 10:19:59.068 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:19:59'.
2025-04-19 10:19:59.074 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 10:19:59.084 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 10:19:59.086 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 115.5021ms
2025-04-19 10:22:52.762 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:22:53.353 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 10:22:53.354 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 10:22:53.434 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:22:53.436 -04:00 [INF] Hosting environment: Development
2025-04-19 10:22:53.437 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 10:22:54.194 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 10:22:54.543 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 371.7353ms
2025-04-19 10:22:54.564 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:22:54.564 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 10:22:54.690 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 126.0163ms
2025-04-19 10:22:54.771 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 207.8244ms
2025-04-19 10:22:54.885 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 10:22:54.960 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.4994ms
2025-04-19 10:22:56.012 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:22:56.110 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:22:56.136 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:22:57.830 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:22:58.008 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:22:58.029 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:22:58.047 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1904.6202ms
2025-04-19 10:22:58.049 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:22:58.074 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2061.9869ms
2025-04-19 10:22:58.648 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:22:58.659 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:22:58.662 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:22:58.699 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:23:00.677 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:23:00.685 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:23:00.690 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2023.4103ms
2025-04-19 10:23:00.692 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:23:02.405 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3756.6438ms
2025-04-19 10:23:05.966 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:23:06.066 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:23:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 10:23:06.102 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:23:06'.
2025-04-19 10:23:06.111 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 10:23:06.122 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 10:23:06.124 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 158.254ms
2025-04-19 10:24:26.673 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-19 10:24:26.712 -04:00 [INF] CORS policy execution failed.
2025-04-19 10:24:26.713 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 10:24:26.718 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:24:26.726 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 10:24:26.892 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 10:24:27.906 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 10:24:27.928 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 10:24:27.931 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 1202.1854ms
2025-04-19 10:24:27.933 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:24:27.938 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 1271.1241ms
2025-04-19 10:28:54.911 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-19 10:28:54.927 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:28:54.932 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 10:28:54.953 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 10:28:54.959 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:28:54.963 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 26.0571ms
2025-04-19 10:28:54.964 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:28:54.968 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 57.7297ms
2025-04-19 10:36:27.244 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:36:27.766 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 10:36:27.767 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 10:36:27.881 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:36:27.884 -04:00 [INF] Hosting environment: Development
2025-04-19 10:36:27.886 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 10:36:28.749 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 10:36:29.892 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 1187.9855ms
2025-04-19 10:36:30.228 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:36:30.316 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 10:36:30.316 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:36:30.443 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:36:30.456 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 140.7876ms
2025-04-19 10:36:30.496 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 180.6871ms
2025-04-19 10:36:30.504 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:36:30.939 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 10:36:31.025 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.7554ms
2025-04-19 10:36:32.797 -04:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:36:33.039 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:36:33.072 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:36:33.102 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2585.3364ms
2025-04-19 10:36:33.107 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:36:33.139 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2912.0798ms
2025-04-19 10:36:33.684 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:36:33.704 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:36:33.709 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:36:33.776 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:36:37.521 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:36:37.528 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:36:37.534 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 3818.624ms
2025-04-19 10:36:37.536 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:36:37.541 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3856.114ms
2025-04-19 10:36:39.317 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:36:39.405 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:36:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 10:36:39.433 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:36:39'.
2025-04-19 10:36:39.440 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 10:36:39.448 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 10:36:39.449 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 132.823ms
2025-04-19 10:41:16.293 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:41:16.691 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 10:41:16.693 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 10:41:16.780 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:41:16.782 -04:00 [INF] Hosting environment: Development
2025-04-19 10:41:16.785 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 10:41:17.052 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:41:17.349 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:17.356 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 10:41:17.429 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:41:17.773 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:41:17.782 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 420.2997ms
2025-04-19 10:41:17.773 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 10:41:17.805 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 31.8514ms
2025-04-19 10:41:17.883 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 109.9962ms
2025-04-19 10:41:18.001 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 10:41:18.070 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.2147ms
2025-04-19 10:41:19.921 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:41:20.151 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:41:20.175 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:41:20.196 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2717.364ms
2025-04-19 10:41:20.198 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:20.220 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3190.855ms
2025-04-19 10:41:20.863 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:41:20.881 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:20.885 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:41:23.153 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:41:23.165 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:41:23.621 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:41:23.628 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2724.8031ms
2025-04-19 10:41:23.630 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:24.647 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3784.9075ms
2025-04-19 10:41:27.192 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:41:27.281 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:41:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 10:41:27.309 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:41:27'.
2025-04-19 10:41:27.318 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 10:41:27.326 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 10:41:27.327 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 135.9705ms
2025-04-19 10:41:44.530 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 10:41:44.535 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:41:44'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 10:41:44.543 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 12:55:56', Current time (UTC): '19/04/2025 14:41:44'.
2025-04-19 10:41:44.546 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 10:41:44.560 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 10:41:44.718 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 10:41:44.904 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 10:41:44.935 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 10:41:44.937 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 373.1836ms
2025-04-19 10:41:44.939 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 10:41:44.941 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 411.4104ms
2025-04-19 10:41:44.991 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:41:44.996 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:44.999 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:41:45.012 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:41:45.019 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:41:45.024 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:41:45.026 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 20.5479ms
2025-04-19 10:41:45.030 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:45.032 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 41.1738ms
2025-04-19 10:41:45.119 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:41:45.123 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:45.125 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:41:45.140 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:41:45.150 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:41:45.159 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:41:45.161 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 31.6215ms
2025-04-19 10:41:45.163 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:45.165 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 46.5432ms
2025-04-19 10:41:56.916 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 10:41:56.923 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:41:56.928 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 10:41:56.962 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 10:41:57.566 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 10:41:57.573 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 10:41:57.576 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 644.6693ms
2025-04-19 10:41:57.577 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 10:41:57.580 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 664.1745ms
2025-04-19 10:41:57.614 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:41:57.617 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:57.618 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:41:57.626 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:41:57.636 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:41:57.641 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:41:57.644 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 22.6276ms
2025-04-19 10:41:57.646 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:57.649 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 34.637ms
2025-04-19 10:41:57.754 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:41:57.765 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:57.769 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:41:57.773 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:41:57.783 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:41:57.796 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:41:57.803 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:41:57.804 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:41:57.813 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 34.5168ms
2025-04-19 10:41:57.814 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 10:41:57.816 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:41:57.828 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 73.7457ms
2025-04-19 10:41:57.845 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 10:41:57.855 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:41:57.860 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 34.6479ms
2025-04-19 10:41:57.862 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:41:57.865 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 92.2911ms
2025-04-19 10:42:41.189 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:42:41.674 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 10:42:41.676 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 10:42:41.890 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:42:41.900 -04:00 [INF] Hosting environment: Development
2025-04-19 10:42:41.907 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 10:42:42.942 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 10:42:42.948 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:42:43.505 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:42:43.567 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:42:43.636 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 726.915ms
2025-04-19 10:42:43.704 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 10:42:43.704 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:42:43.841 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 136.2376ms
2025-04-19 10:42:43.909 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 204.3727ms
2025-04-19 10:42:44.042 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 10:42:44.118 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.3068ms
2025-04-19 10:42:46.044 -04:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:42:46.347 -04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:42:46.382 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:42:46.413 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2831.8542ms
2025-04-19 10:42:46.418 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:42:46.469 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3522.0781ms
2025-04-19 10:42:47.045 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:42:47.061 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:42:47.065 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:42:47.130 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:42:47.147 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:42:47.151 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:42:47.159 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:42:47.164 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 94.4998ms
2025-04-19 10:42:47.166 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:42:47.171 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 126.4269ms
2025-04-19 10:42:47.272 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:42:47.280 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 10:42:47.400 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 10:42:47.413 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:42:47.416 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 131.9926ms
2025-04-19 10:42:47.418 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:42:47.420 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 269.6272ms
2025-04-19 10:43:01.466 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:43:01.469 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:43:01.471 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:43:01.485 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:43:01.496 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:43:01.501 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:43:01.503 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 27.2024ms
2025-04-19 10:43:01.504 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:43:01.507 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 40.6335ms
2025-04-19 10:43:01.593 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 10:43:01.598 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:43:01.601 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 10:43:01.625 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 10:43:01.639 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 10:43:01.647 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 10:43:01.653 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:43:01.662 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:43:01.663 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 50.1099ms
2025-04-19 10:43:01.665 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 10:43:01.668 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 10:43:01.677 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 84.3788ms
2025-04-19 10:43:01.687 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 10:43:01.696 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:43:01.702 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 28.231ms
2025-04-19 10:43:01.706 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 10:43:01.708 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 61.1942ms
2025-04-19 10:43:45.977 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:43:46.537 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 10:43:46.539 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 10:43:46.652 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:43:46.654 -04:00 [INF] Hosting environment: Development
2025-04-19 10:43:46.655 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 10:43:47.414 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 10:43:47.840 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 459.2898ms
2025-04-19 10:43:47.872 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:43:47.872 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 10:43:47.885 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 13.0936ms
2025-04-19 11:29:59.512 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 11:29:59.972 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 11:29:59.975 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 11:30:00.110 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 11:30:00.113 -04:00 [INF] Hosting environment: Development
2025-04-19 11:30:00.115 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 11:30:01.618 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 11:30:02.564 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 1014.9573ms
2025-04-19 11:30:02.598 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 11:30:02.598 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 11:30:02.660 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 62.4966ms
2025-04-19 11:30:02.787 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 11:30:02.905 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 308.2489ms
2025-04-19 11:30:02.993 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 11:30:03.110 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.9388ms
2025-04-19 11:30:03.122 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 11:30:03.173 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 11:30:05.517 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 11:30:05.681 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 11:30:05.699 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:30:05.716 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2531.0141ms
2025-04-19 11:30:05.718 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 11:30:05.736 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2950.2483ms
2025-04-19 11:30:06.154 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 11:30:06.165 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 11:30:06.168 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 11:30:06.201 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 11:30:06.210 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 11:30:06.211 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 11:30:06.218 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:30:06.220 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 48.5905ms
2025-04-19 11:30:06.222 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 11:30:06.226 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 72.1926ms
2025-04-19 11:30:06.310 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 15:30:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 11:30:06.405 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 15:30:06'.
2025-04-19 11:30:06.413 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 11:30:06.422 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 11:30:06.425 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 214.6215ms
2025-04-19 12:08:08.957 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 12:08:09.341 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 12:08:09.343 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 12:08:09.423 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 12:08:09.425 -04:00 [INF] Hosting environment: Development
2025-04-19 12:08:09.426 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 12:08:12.843 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 12:08:13.358 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 540.225ms
2025-04-19 12:08:13.445 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:08:13.500 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 12:08:13.500 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 12:08:13.519 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 19.4566ms
2025-04-19 12:08:13.673 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 173.2856ms
2025-04-19 12:08:13.725 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:08:13.780 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:08:13.873 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 12:08:13.953 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.6709ms
2025-04-19 12:08:16.154 -04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:08:16.356 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:08:16.373 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:08:16.391 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2602.9725ms
2025-04-19 12:08:16.394 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:08:16.422 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2979.3856ms
2025-04-19 12:08:16.920 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:08:16.929 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:08:16.931 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:08:16.963 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:08:16.979 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:08:16.983 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:08:16.986 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 51.3494ms
2025-04-19 12:08:16.987 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:08:16.991 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 71.5653ms
2025-04-19 12:08:19.960 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 12:08:20.078 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:08:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:08:20.218 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:08:20'.
2025-04-19 12:08:20.227 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 12:08:20.236 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 12:08:20.238 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 278.8162ms
2025-04-19 12:08:27.426 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-19 12:08:27.434 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:08:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:08:27.439 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:08:27'.
2025-04-19 12:08:27.440 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:08:27.447 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:08:27.604 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:08:27.774 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 323.1062ms
2025-04-19 12:08:27.776 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:08:27.780 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:08:27.814 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 388.1651ms
2025-04-19 12:10:26.896 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 12:10:27.497 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 12:10:27.499 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 12:10:27.596 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 12:10:27.599 -04:00 [INF] Hosting environment: Development
2025-04-19 12:10:27.602 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 12:10:28.448 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:10:28.448 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 12:10:28.712 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:10:28.755 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:10:28.882 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 460.1234ms
2025-04-19 12:10:28.909 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 12:10:28.910 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 12:10:28.923 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 12.7223ms
2025-04-19 12:10:29.013 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.6291ms
2025-04-19 12:10:29.136 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 12:10:29.198 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.9288ms
2025-04-19 12:10:30.974 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:10:31.155 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:10:31.174 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:10:31.190 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2426.949ms
2025-04-19 12:10:31.192 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:10:31.215 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2770.4238ms
2025-04-19 12:10:31.695 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:10:31.705 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:10:31.709 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:10:31.750 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:10:43.279 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:10:43.286 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:10:43.290 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 11575.9914ms
2025-04-19 12:10:43.292 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:10:43.295 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 11600.4252ms
2025-04-19 12:10:43.302 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 12:10:43.370 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:10:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:10:43.393 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:10:43'.
2025-04-19 12:10:43.399 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 12:10:43.407 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 12:10:43.409 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 106.4178ms
2025-04-19 12:10:44.204 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-19 12:10:44.208 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:10:44'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:10:44.215 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:10:44'.
2025-04-19 12:10:44.217 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:10:44.223 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:10:44.370 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:10:44.508 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 280.7287ms
2025-04-19 12:10:44.511 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:10:44.515 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:10:44.554 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 350.0938ms
2025-04-19 12:11:02.836 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-19 12:11:02.844 -04:00 [INF] CORS policy execution failed.
2025-04-19 12:11:02.845 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 12:11:02.850 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:11:02.858 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:11:02.889 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 12:11:03.712 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 12:11:03.730 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 12:11:03.733 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 869.0139ms
2025-04-19 12:11:03.734 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:11:03.735 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 900.6442ms
2025-04-19 12:13:53.651 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/refresh-token - application/json 112
2025-04-19 12:13:53.657 -04:00 [INF] CORS policy execution failed.
2025-04-19 12:13:53.658 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 12:13:53.660 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:13:53.661 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:13:53.675 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:13:53.770 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 105.4606ms
2025-04-19 12:13:53.772 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:13:53.775 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:13:53.804 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/refresh-token - 500 null text/plain; charset=utf-8 156.8739ms
2025-04-19 12:15:24.879 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/refresh-token - application/json 524
2025-04-19 12:15:24.896 -04:00 [INF] CORS policy execution failed.
2025-04-19 12:15:24.897 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 12:15:24.898 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:15:24.900 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:15:41.415 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:15:42.686 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 17783.3809ms
2025-04-19 12:15:42.688 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:15:42.691 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:15:42.712 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/refresh-token - 500 null text/plain; charset=utf-8 17834.3389ms
2025-04-19 12:16:07.072 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/refresh-token - application/json 111
2025-04-19 12:16:07.096 -04:00 [INF] CORS policy execution failed.
2025-04-19 12:16:07.097 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 12:16:07.100 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:16:07.105 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:16:16.389 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:16:17.603 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 10492.6108ms
2025-04-19 12:16:17.605 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:16:17.607 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:16:17.637 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/refresh-token - 500 null text/plain; charset=utf-8 10567.5353ms
2025-04-19 12:17:03.023 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 12:17:03.407 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 12:17:03.409 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 12:17:03.468 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 12:17:03.470 -04:00 [INF] Hosting environment: Development
2025-04-19 12:17:03.470 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 12:17:05.448 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 12:17:05.983 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:17:06.251 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 853.8127ms
2025-04-19 12:17:06.253 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:17:06.281 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 12:17:06.294 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 12:17:06.320 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 38.6772ms
2025-04-19 12:17:06.367 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:17:06.484 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 189.5747ms
2025-04-19 12:17:06.598 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 12:17:06.701 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.7721ms
2025-04-19 12:17:09.004 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:17:09.208 -04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:17:09.226 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:17:09.241 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2865.7523ms
2025-04-19 12:17:09.244 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:17:09.266 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3283.9243ms
2025-04-19 12:17:09.790 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:17:09.804 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:17:09.806 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:17:09.839 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:17:09.849 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:17:09.852 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 12:17:09.855 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:17:09.859 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 50.6662ms
2025-04-19 12:17:09.862 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:17:09.866 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 76.4381ms
2025-04-19 12:17:09.938 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:17:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:17:09.986 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:17:09'.
2025-04-19 12:17:09.992 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 12:17:10.002 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 12:17:10.005 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 153.2014ms
2025-04-19 12:17:13.336 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-19 12:17:13.341 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:17:13'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:17:13.346 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:17:13'.
2025-04-19 12:17:13.347 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:17:13.356 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:17:15.718 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:17:15.868 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 2508.487ms
2025-04-19 12:17:15.870 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:17:15.874 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:17:15.907 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 2571.366ms
2025-04-19 12:17:24.133 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/refresh-token - application/json 112
2025-04-19 12:17:24.155 -04:00 [INF] CORS policy execution failed.
2025-04-19 12:17:24.159 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 12:17:24.166 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:17:24.169 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:17:28.804 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:28:49.407 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 12:28:50.093 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 12:28:50.099 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 12:28:50.218 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 12:28:50.220 -04:00 [INF] Hosting environment: Development
2025-04-19 12:28:50.222 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 12:28:50.432 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:28:50.695 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 12:28:50.704 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:28:50.767 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:28:51.064 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 12:28:51.067 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 12:28:51.070 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 375.9597ms
2025-04-19 12:28:51.080 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 16.3345ms
2025-04-19 12:28:51.172 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.953ms
2025-04-19 12:28:51.267 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 12:28:51.320 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.6395ms
2025-04-19 12:28:52.810 -04:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:28:53.034 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:28:53.055 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:28:53.074 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2293.421ms
2025-04-19 12:28:53.077 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:28:53.105 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2692.7851ms
2025-04-19 12:28:53.591 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:28:53.604 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:28:53.606 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:28:53.648 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:28:53.658 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:28:53.661 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 12:28:53.665 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:28:53.669 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 59.0921ms
2025-04-19 12:28:53.671 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:28:53.674 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 82.8506ms
2025-04-19 12:28:53.748 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:28:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:28:53.777 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:28:53'.
2025-04-19 12:28:53.787 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 12:28:53.798 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 12:28:53.800 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 138.9552ms
2025-04-19 12:29:16.746 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-19 12:29:16.754 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:29:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:29:16.759 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:29:16'.
2025-04-19 12:29:16.761 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:29:16.770 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:29:17.848 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 12:29:20.069 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 3296.394ms
2025-04-19 12:29:20.072 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 12:29:20.076 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:29:20.109 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 3363.791ms
2025-04-19 12:29:42.796 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 12:29:42.804 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:29:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 12:29:42.812 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 14:56:57', Current time (UTC): '19/04/2025 16:29:42'.
2025-04-19 12:29:42.815 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 12:29:42.824 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:29:42.868 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 12:29:43.033 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 12:29:43.055 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 12:29:43.057 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 229.67ms
2025-04-19 12:29:43.058 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 12:29:43.060 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 264.6302ms
2025-04-19 12:29:43.116 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:29:43.119 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:29:43.120 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:29:43.129 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:29:43.144 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:29:43.149 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:29:43.151 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 29.1954ms
2025-04-19 12:29:43.153 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:29:43.155 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 39.2358ms
2025-04-19 12:29:43.413 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 12:29:43.426 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:29:43.428 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 12:29:43.440 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 12:29:43.454 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 12:29:43.460 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 12:29:43.464 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 29.9833ms
2025-04-19 12:29:49.890 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 12:29:49.893 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 6479.5563ms
2025-04-19 12:30:18.168 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 12:30:18.174 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:30:18.180 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:30:18.203 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 12:30:18.670 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 12:30:18.675 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 12:30:18.677 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 494.9812ms
2025-04-19 12:30:18.679 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:30:18.681 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 512.9979ms
2025-04-19 12:30:26.140 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 12:30:26.144 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:30:26.146 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:30:26.157 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 12:30:26.318 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 12:30:26.323 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 12:30:26.325 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 176.5127ms
2025-04-19 12:30:26.326 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:30:26.328 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 188.0862ms
2025-04-19 12:30:46.061 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 12:30:46.065 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:30:46.067 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 12:30:46.079 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 12:30:46.342 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 271.5838ms
2025-04-19 12:30:46.345 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 12:30:46.347 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: Credenciales inválidas
   at Application.Features.Auth.Commands.Login.LoginHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\Login\LoginHandler.cs:line 30
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.Login(LoginCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 24
   at lambda_method136(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 12:30:46.365 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 500 null text/plain; charset=utf-8 304.0136ms
2025-04-19 15:47:55.411 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 15:47:55.847 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 15:47:55.849 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 15:47:55.926 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 15:47:55.927 -04:00 [INF] Hosting environment: Development
2025-04-19 15:47:55.928 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 15:47:57.107 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 15:47:57.938 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 15:47:57.942 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 868.5341ms
2025-04-19 15:47:57.945 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 15:47:58.079 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 15:47:58.159 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 213.9319ms
2025-04-19 15:47:58.208 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 270.9342ms
2025-04-19 15:47:58.408 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 15:47:58.675 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 266.8419ms
2025-04-19 15:47:58.736 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:47:58.802 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 15:48:00.841 -04:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 15:48:01.045 -04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 15:48:01.060 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 15:48:01.078 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2258.4914ms
2025-04-19 15:48:01.080 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:48:01.101 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3022.8874ms
2025-04-19 15:48:01.507 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 15:48:01.518 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:48:01.519 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 15:48:01.556 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 15:48:01.566 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 15:48:01.570 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 15:48:01.572 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 48.9553ms
2025-04-19 15:48:01.574 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:48:01.577 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 69.9507ms
2025-04-19 15:48:43.151 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 15:48:43.158 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:48:43.166 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 15:48:43.354 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 15:48:44.173 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 15:48:44.191 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 15:48:44.193 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 1023.1167ms
2025-04-19 15:48:44.195 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:48:44.197 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 1046.4251ms
2025-04-19 15:49:27.151 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 15:49:27.157 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:49:27.158 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 15:49:27.180 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 15:49:27.349 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 15:49:27.353 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 15:49:27.354 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 193.8247ms
2025-04-19 15:49:27.356 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:49:27.357 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 206.1349ms
2025-04-19 15:52:06.483 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 15:52:06.879 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 15:52:06.881 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 15:52:06.977 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 15:52:06.980 -04:00 [INF] Hosting environment: Development
2025-04-19 15:52:07.003 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 15:52:07.512 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 15:52:07.837 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 338.3798ms
2025-04-19 15:52:07.848 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 15:52:07.848 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 15:52:07.869 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 21.2967ms
2025-04-19 15:52:07.992 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 144.1994ms
2025-04-19 15:52:08.128 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 15:52:08.224 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.9912ms
2025-04-19 15:52:33.676 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 15:52:34.114 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 15:52:34.116 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 15:52:34.191 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 15:52:34.193 -04:00 [INF] Hosting environment: Development
2025-04-19 15:52:34.194 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 15:52:35.150 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 15:52:35.600 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 481.0438ms
2025-04-19 15:52:35.615 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 15:52:35.615 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 15:52:35.634 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 18.3328ms
2025-04-19 15:52:35.704 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.4728ms
2025-04-19 15:52:35.816 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 15:52:35.838 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 15:52:35.974 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 158.4718ms
2025-04-19 15:52:36.011 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:52:36.046 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 15:52:37.626 -04:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 15:52:37.789 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 15:52:37.813 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 15:52:37.833 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1779.9221ms
2025-04-19 15:52:37.835 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:52:37.857 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2019.7622ms
2025-04-19 15:52:38.343 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 15:52:38.355 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:52:38.357 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 15:52:38.396 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 15:52:38.406 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 15:52:38.412 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 15:52:38.415 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 55.6417ms
2025-04-19 15:52:38.419 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:52:38.423 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 79.2884ms
2025-04-19 15:53:13.883 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 15:53:13.891 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:53:13.899 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 15:53:14.025 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 15:53:14.859 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 15:53:14.897 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 15:53:14.904 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 998.7497ms
2025-04-19 15:53:14.906 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:53:14.910 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 1027.235ms
2025-04-19 15:57:00.530 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 15:57:00.903 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 15:57:00.921 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 15:57:01.028 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 15:57:01.030 -04:00 [INF] Hosting environment: Development
2025-04-19 15:57:01.031 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 15:57:01.497 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 15:57:02.153 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 712.1556ms
2025-04-19 15:57:02.200 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 15:57:02.235 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 15:57:02.572 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 372.2452ms
2025-04-19 15:57:02.581 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 15:57:02.756 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 520.2948ms
2025-04-19 15:57:02.792 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:57:02.844 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 15:57:02.906 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 15:57:02.995 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.1472ms
2025-04-19 15:57:04.683 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 15:57:04.880 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 15:57:04.899 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 15:57:04.918 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2066.7868ms
2025-04-19 15:57:04.920 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:57:04.944 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2363.6242ms
2025-04-19 15:57:05.435 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 15:57:05.447 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:57:05.450 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 15:57:05.495 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 15:57:05.503 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 15:57:05.508 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 15:57:05.511 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 57.7494ms
2025-04-19 15:57:05.513 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 15:57:05.516 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 81.0994ms
2025-04-19 15:57:22.152 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-19 15:57:22.162 -04:00 [INF] CORS policy execution failed.
2025-04-19 15:57:22.164 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 15:57:22.172 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:57:22.181 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 15:57:22.329 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 15:57:23.093 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 15:57:23.113 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 15:57:23.117 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 933.1665ms
2025-04-19 15:57:23.118 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 15:57:23.119 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 967.9705ms
2025-04-19 16:00:33.781 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 16:00:34.340 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 16:00:34.342 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 16:00:34.441 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 16:00:34.443 -04:00 [INF] Hosting environment: Development
2025-04-19 16:00:34.444 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 16:00:34.528 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:00:34.830 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:00:34.839 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:00:34.916 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:00:35.279 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 445.4034ms
2025-04-19 16:00:35.289 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:00:35.289 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:00:35.317 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 28.3117ms
2025-04-19 16:00:35.423 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.8233ms
2025-04-19 16:00:35.537 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:00:35.618 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.2656ms
2025-04-19 16:00:37.856 -04:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:00:38.066 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:00:38.082 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:00:38.097 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 3159.6605ms
2025-04-19 16:00:38.099 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:00:38.119 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3613.872ms
2025-04-19 16:00:38.534 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:00:38.546 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:00:38.548 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:00:38.606 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:00:38.615 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:00:38.619 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:00:38.622 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 70.9879ms
2025-04-19 16:00:38.624 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:00:38.628 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 94.2388ms
2025-04-19 16:01:00.356 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 16:01:00.363 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:01:00.370 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:01:00.497 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 16:01:01.324 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 16:01:01.344 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 16:01:01.347 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 972.422ms
2025-04-19 16:01:01.349 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:01:01.350 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 995.2377ms
2025-04-19 16:01:01.410 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:01:01.416 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:01:01.418 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:01:01.427 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:01:01.441 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:01:01.445 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:01:01.447 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 26.0356ms
2025-04-19 16:01:01.449 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:01:01.450 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 40.6119ms
2025-04-19 16:01:01.551 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:01:01.555 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:01:01.556 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:01:01.574 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:01:01.582 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:01:01.583 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:01:01.596 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:01:01.600 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 36.2489ms
2025-04-19 16:01:01.602 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:01:01.605 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 53.3154ms
2025-04-19 16:01:01.672 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:01:01.677 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:01:01.694 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:01:01.701 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:01:01.705 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 24.2994ms
2025-04-19 16:01:01.707 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:01:01.709 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 126.9098ms
2025-04-19 16:18:06.948 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 16:18:07.391 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 16:18:07.393 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 16:18:07.479 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 16:18:07.481 -04:00 [INF] Hosting environment: Development
2025-04-19 16:18:07.482 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 16:18:08.831 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:18:09.749 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 941.1772ms
2025-04-19 16:18:09.763 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:18:09.995 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:18:09.996 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:18:10.028 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 33.2979ms
2025-04-19 16:18:10.068 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:10.124 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.3116ms
2025-04-19 16:18:10.132 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:18:10.688 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:18:10.808 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.333ms
2025-04-19 16:18:12.339 -04:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:18:12.581 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:18:12.606 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:18:12.633 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2486.8609ms
2025-04-19 16:18:12.636 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:12.662 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2899.2526ms
2025-04-19 16:18:13.203 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:18:13.218 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:13.221 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:18:13.276 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:18:13.294 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:18:13.296 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:18:13.303 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:18:13.307 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 80.0769ms
2025-04-19 16:18:13.309 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:13.313 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 109.6807ms
2025-04-19 16:18:13.404 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:18:13.411 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:18:13.532 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:18:13.543 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:18:13.546 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 131.7187ms
2025-04-19 16:18:13.548 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:18:13.550 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 255.8526ms
2025-04-19 16:18:14.613 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 16:18:14.618 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 16:18:14.623 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:18:14.698 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 16:18:14.849 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 16:18:14.876 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 16:18:14.878 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 252.2817ms
2025-04-19 16:18:14.881 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 16:18:14.883 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 269.7128ms
2025-04-19 16:18:14.930 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:18:14.933 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:14.935 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:18:14.944 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:18:14.949 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:18:14.954 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:18:14.956 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 18.1453ms
2025-04-19 16:18:14.957 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:14.959 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 28.389ms
2025-04-19 16:18:15.049 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:18:15.053 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:15.058 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:18:15.075 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:18:15.086 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:18:15.091 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:18:15.094 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 25.8831ms
2025-04-19 16:18:15.097 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:18:15.098 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 49.8133ms
2025-04-19 16:18:29.100 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 16:18:29.106 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:18:29.114 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:18:29.136 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 16:18:29.844 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 727.942ms
2025-04-19 16:18:29.847 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:18:29.853 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: Credenciales inválidas
   at Application.Features.Auth.Commands.Login.LoginHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\Login\LoginHandler.cs:line 28
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.Login(LoginCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 24
   at lambda_method132(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 16:18:29.915 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 500 null text/plain; charset=utf-8 814.9729ms
2025-04-19 16:19:28.520 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-19 16:19:28.525 -04:00 [INF] CORS policy execution failed.
2025-04-19 16:19:28.527 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-19 16:19:28.530 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:19:28.532 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:19:28.543 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 16:19:28.745 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 16:19:28.751 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 16:19:28.754 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 219.1195ms
2025-04-19 16:19:28.755 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:19:28.757 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 236.3055ms
2025-04-19 16:19:45.853 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 16:19:45.859 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:19:45.860 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:19:45.874 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 16:19:46.048 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 16:19:46.052 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 16:19:46.053 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 189.3789ms
2025-04-19 16:19:46.055 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:19:46.056 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 203.3822ms
2025-04-19 16:19:46.085 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:19:46.088 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:19:46.090 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:19:46.096 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:19:46.105 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:19:46.108 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:19:46.110 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 18.2996ms
2025-04-19 16:19:46.112 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:19:46.114 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 29.6069ms
2025-04-19 16:19:46.214 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:19:46.222 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:19:46.229 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:19:46.242 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:19:46.248 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:19:46.256 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:19:46.259 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:19:46.264 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:19:46.266 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:19:46.269 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 33.3052ms
2025-04-19 16:19:46.273 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:19:46.279 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 62.9757ms
2025-04-19 16:19:46.280 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:19:46.292 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:19:46.293 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 21.743ms
2025-04-19 16:19:46.295 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:19:46.297 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 54.3617ms
2025-04-19 16:20:13.809 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:20:13.812 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:13.813 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:20:13.819 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:20:13.824 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:20:13.828 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:20:13.829 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 13.6837ms
2025-04-19 16:20:13.831 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:13.834 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 25.1057ms
2025-04-19 16:20:13.930 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:20:13.941 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:13.943 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:20:13.952 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:20:13.955 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:20:13.958 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:20:13.979 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:20:13.979 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:20:13.993 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:20:14.001 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:20:14.003 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 51.222ms
2025-04-19 16:20:14.006 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:20:14.007 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:14.010 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 26.5909ms
2025-04-19 16:20:14.013 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 82.1663ms
2025-04-19 16:20:14.014 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:20:14.021 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 69.0037ms
2025-04-19 16:20:35.853 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:20:35.856 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:35.858 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:20:35.863 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:20:35.870 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:20:35.873 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:20:35.875 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 14.5666ms
2025-04-19 16:20:35.877 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:35.878 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 25.4692ms
2025-04-19 16:20:35.959 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:20:35.963 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:35.965 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:20:35.973 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:20:35.975 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:20:35.978 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:20:35.981 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:20:35.982 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:20:35.995 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:20:35.997 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 26.158ms
2025-04-19 16:20:36.001 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:20:36.002 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:20:36.005 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:20:36.006 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 46.5278ms
2025-04-19 16:20:36.008 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 23.9214ms
2025-04-19 16:20:36.014 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:20:36.016 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 42.2506ms
2025-04-19 16:27:24.447 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 16:27:24.897 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 16:27:24.898 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 16:27:24.986 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 16:27:24.988 -04:00 [INF] Hosting environment: Development
2025-04-19 16:27:24.990 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 16:27:28.496 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:27:29.253 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 785.6163ms
2025-04-19 16:27:29.306 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:27:29.306 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:27:29.611 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 305.5945ms
2025-04-19 16:27:29.847 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 541.1315ms
2025-04-19 16:27:29.870 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:27:29.952 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:27:30.435 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 483.68ms
2025-04-19 16:27:30.449 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:27:30.583 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:27:32.342 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:27:32.516 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:27:32.531 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:27:32.546 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1941.5974ms
2025-04-19 16:27:32.548 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:27:32.564 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2693.6475ms
2025-04-19 16:27:33.046 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:27:33.055 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:27:33.057 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:27:33.087 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:27:33.095 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:27:33.100 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:27:33.104 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 43.4975ms
2025-04-19 16:27:33.106 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:27:33.107 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:27:33.112 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 66.1863ms
2025-04-19 16:27:33.186 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:27:33.191 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:27:33.266 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:27:33.276 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:27:33.279 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 85.546ms
2025-04-19 16:27:33.281 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:27:33.283 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 176.8758ms
2025-04-19 16:33:29.949 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 16:33:30.554 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 16:33:30.556 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 16:33:30.647 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 16:33:30.649 -04:00 [INF] Hosting environment: Development
2025-04-19 16:33:30.650 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 16:33:31.493 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:33:32.218 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 753.9861ms
2025-04-19 16:33:32.975 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:33:32.994 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 20.1094ms
2025-04-19 16:33:32.996 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:33:33.084 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:33:33.144 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 148.3668ms
2025-04-19 16:33:33.278 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:33:33.338 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:33:33.638 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:33:33.723 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.2966ms
2025-04-19 16:33:35.549 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:33:35.714 -04:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:33:35.732 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:33:35.746 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2401.6323ms
2025-04-19 16:33:35.748 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:33:35.765 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2682.238ms
2025-04-19 16:33:36.182 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:33:36.191 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:33:36.193 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:33:36.227 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:33:36.237 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:33:36.239 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:33:36.243 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:33:36.247 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 50.7997ms
2025-04-19 16:33:36.249 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:33:36.252 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 69.3312ms
2025-04-19 16:33:36.327 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:33:36.333 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:33:36.409 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:33:36.419 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:33:36.423 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 87.215ms
2025-04-19 16:33:36.425 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:33:36.426 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 187.12ms
2025-04-19 16:39:07.139 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 16:39:07.709 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 16:39:07.714 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 16:39:07.824 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 16:39:07.832 -04:00 [INF] Hosting environment: Development
2025-04-19 16:39:07.841 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 16:39:08.695 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:39:09.393 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 725.9074ms
2025-04-19 16:39:09.414 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:39:09.417 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:39:09.433 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 16.08ms
2025-04-19 16:39:09.602 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 188.7351ms
2025-04-19 16:39:09.738 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:39:09.890 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 151.9695ms
2025-04-19 16:39:11.651 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:39:11.746 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:39:11.772 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:39:13.412 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:39:13.626 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:39:13.649 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:39:13.667 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1888.7ms
2025-04-19 16:39:13.669 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:39:13.688 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2037.7ms
2025-04-19 16:39:14.242 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:39:14.257 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:39:14.264 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:39:14.314 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:39:14.326 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:39:14.331 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:39:14.334 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:39:14.338 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 65.9584ms
2025-04-19 16:39:14.340 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:39:14.345 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 103.9071ms
2025-04-19 16:39:14.458 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:39:14.465 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:39:14.559 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:39:14.573 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:39:14.577 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 109.2413ms
2025-04-19 16:39:14.580 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:39:14.582 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 251.1826ms
2025-04-19 16:42:13.344 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:42:13.365 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 21.4256ms
2025-04-19 16:42:13.386 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:42:13.387 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:42:13.430 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 43.5645ms
2025-04-19 16:42:13.453 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.0932ms
2025-04-19 16:42:13.542 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:42:13.546 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/favicon-32x32.png - null null
2025-04-19 16:42:13.566 -04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-19 16:42:13.568 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/favicon-32x32.png - 200 628 image/png 21.7336ms
2025-04-19 16:42:13.593 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.894ms
2025-04-19 16:46:56.294 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 16:46:56.668 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 16:46:56.670 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 16:46:56.745 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 16:46:56.746 -04:00 [INF] Hosting environment: Development
2025-04-19 16:46:56.747 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 16:46:57.644 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:46:58.198 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 582.7541ms
2025-04-19 16:46:58.212 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:46:58.212 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:46:58.274 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 62.2431ms
2025-04-19 16:46:58.345 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.5324ms
2025-04-19 16:46:58.492 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:46:58.865 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 372.361ms
2025-04-19 16:47:01.361 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:47:01.472 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:01.520 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:47:03.289 -04:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:47:03.496 -04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:47:03.518 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:47:03.538 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2009.9767ms
2025-04-19 16:47:03.540 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:03.561 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2200.6596ms
2025-04-19 16:47:04.003 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:47:04.012 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:04.014 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:47:04.046 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:47:04.061 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:47:04.062 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:47:04.072 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:47:04.080 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 61.6953ms
2025-04-19 16:47:04.082 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:04.088 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 85.7103ms
2025-04-19 16:47:04.189 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 20:34:46', Current time (UTC): '19/04/2025 20:47:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 16:47:04.215 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 20:34:46', Current time (UTC): '19/04/2025 20:47:04'.
2025-04-19 16:47:04.222 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 16:47:04.230 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 16:47:04.232 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 169.7523ms
2025-04-19 16:47:04.243 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-19 16:47:04.247 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 20:34:46', Current time (UTC): '19/04/2025 20:47:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 16:47:04.251 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 20:34:46', Current time (UTC): '19/04/2025 20:47:04'.
2025-04-19 16:47:04.252 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 16:47:04.258 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:47:04.405 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 16:47:04.563 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 302.8161ms
2025-04-19 16:47:04.567 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 16:47:04.571 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 16:47:04.616 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 373.0756ms
2025-04-19 16:47:15.232 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 16:47:15.241 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 20:34:46', Current time (UTC): '19/04/2025 20:47:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 16:47:15.251 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 20:34:46', Current time (UTC): '19/04/2025 20:47:15'.
2025-04-19 16:47:15.253 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 16:47:15.260 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:47:15.285 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 16:47:15.449 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 16:47:15.480 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 16:47:15.481 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 218.373ms
2025-04-19 16:47:15.483 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 16:47:15.485 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 253.3774ms
2025-04-19 16:47:15.529 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:47:15.532 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:15.533 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:47:15.543 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:47:15.552 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:47:15.557 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:47:15.559 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 21.8764ms
2025-04-19 16:47:15.560 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:15.562 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 32.234ms
2025-04-19 16:47:15.657 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:47:15.682 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:15.685 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:47:15.695 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:47:15.700 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:47:15.707 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:47:15.709 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 17.4087ms
2025-04-19 16:47:15.710 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:15.712 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 54.9081ms
2025-04-19 16:47:28.640 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 16:47:28.645 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:47:28.652 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 16:47:28.673 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 16:47:29.141 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 16:47:29.145 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 16:47:29.147 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 491.5894ms
2025-04-19 16:47:29.149 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 16:47:29.151 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 510.567ms
2025-04-19 16:47:29.185 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:47:29.188 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:29.189 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:47:29.194 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:47:29.199 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:47:29.203 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:47:29.205 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 13.5637ms
2025-04-19 16:47:29.207 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:29.208 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 23.431ms
2025-04-19 16:47:29.298 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:47:29.309 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:29.311 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:47:29.313 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:47:29.319 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:47:29.328 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:47:29.332 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:47:29.334 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 18.7004ms
2025-04-19 16:47:29.336 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:47:29.337 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 40.6308ms
2025-04-19 16:47:29.337 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:47:29.346 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:47:29.360 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:47:29.367 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:47:29.370 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 21.9731ms
2025-04-19 16:47:29.372 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:47:29.373 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 59.7809ms
2025-04-19 16:56:44.807 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 16:56:45.226 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 16:56:45.227 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 16:56:45.296 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 16:56:45.298 -04:00 [INF] Hosting environment: Development
2025-04-19 16:56:45.300 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 16:56:46.635 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 16:56:47.050 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:56:47.359 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:56:47.404 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 792.3947ms
2025-04-19 16:56:47.416 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 16:56:47.421 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 16:56:47.429 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:56:47.458 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 43.5469ms
2025-04-19 16:56:47.540 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 122.0257ms
2025-04-19 16:56:47.661 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 16:56:47.749 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.2706ms
2025-04-19 16:56:49.424 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:56:49.623 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:56:49.644 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:56:49.666 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2157.1142ms
2025-04-19 16:56:49.669 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:56:49.689 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2640.5967ms
2025-04-19 16:56:50.279 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 16:56:50.290 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:56:50.292 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 16:56:50.327 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 16:56:50.336 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 16:56:50.343 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:56:50.343 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 16:56:50.345 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 49.7688ms
2025-04-19 16:56:50.349 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 16:56:50.352 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 72.43ms
2025-04-19 16:56:50.426 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:56:50.431 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 16:56:50.538 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 16:56:50.552 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 16:56:50.557 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 122.1498ms
2025-04-19 16:56:50.559 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 16:56:50.561 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 218.2438ms
2025-04-19 17:06:01.515 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:06:01.971 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:06:01.973 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:06:02.062 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:06:02.065 -04:00 [INF] Hosting environment: Development
2025-04-19 17:06:02.068 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:06:02.585 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:06:03.237 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 678.6ms
2025-04-19 17:06:03.369 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:06:03.379 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:06:03.810 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 440.6427ms
2025-04-19 17:06:03.987 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 610.6151ms
2025-04-19 17:06:04.173 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:06:04.341 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.7229ms
2025-04-19 17:06:05.992 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:06:06.095 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:06:06.130 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:06:08.115 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:06:08.276 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:06:08.295 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:06:08.311 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2175.9099ms
2025-04-19 17:06:08.314 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:06:08.333 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2341.7031ms
2025-04-19 17:06:08.750 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:06:08.758 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:06:08.760 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:06:08.791 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:06:08.800 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:06:08.807 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:06:08.809 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:06:08.814 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 49.2255ms
2025-04-19 17:06:08.816 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:06:08.821 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 71.9241ms
2025-04-19 17:06:08.886 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:06:08.892 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:06:08.970 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:06:08.980 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:06:08.984 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 87.785ms
2025-04-19 17:06:08.987 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:06:08.989 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 181.6218ms
2025-04-19 17:07:09.889 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/postcategories - application/json; charset=utf-8 null
2025-04-19 17:07:09.894 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-19 17:07:09.901 -04:00 [INF] Route matched with {action = "Create", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Application.Features.PostsCategories.Commands.CreatePostCategories.CreatePostCategoryCommand) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-19 17:07:10.195 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Posts] ([CreatedAt], [ImageUrl], [PostContent], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 17:07:10.234 -04:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.ValueTuple`2[[Core.Entities.Post, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 17:07:10.260 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.Create (Presentation) in 353.9641ms
2025-04-19 17:07:10.261 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-19 17:07:10.266 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/postcategories - 201 null application/json; charset=utf-8 376.9875ms
2025-04-19 17:07:10.318 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:07:10.321 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:07:10.322 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:07:10.334 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:07:10.344 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:07:10.349 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:07:10.352 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 24.0734ms
2025-04-19 17:07:10.355 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:07:10.357 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 38.6124ms
2025-04-19 17:07:10.473 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:07:10.476 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:07:10.478 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:07:10.486 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:07:10.504 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:07:10.516 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:07:10.516 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:07:10.519 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:07:10.521 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 38.9954ms
2025-04-19 17:07:10.523 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:07:10.527 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:07:10.534 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 61.0971ms
2025-04-19 17:07:10.538 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:07:10.546 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:07:10.549 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 17.3855ms
2025-04-19 17:07:10.551 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:07:10.553 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 36.3633ms
2025-04-19 17:15:05.451 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:15:05.891 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:15:05.892 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:15:05.958 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:15:05.960 -04:00 [INF] Hosting environment: Development
2025-04-19 17:15:05.962 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:15:06.884 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:15:07.575 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 724.0139ms
2025-04-19 17:15:07.592 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:15:07.592 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:15:07.790 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 198.0564ms
2025-04-19 17:15:07.806 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:15:07.868 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 276.6693ms
2025-04-19 17:15:08.000 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:15:08.059 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:08.131 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.1179ms
2025-04-19 17:15:08.228 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:15:10.122 -04:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:15:10.326 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:15:10.348 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:15:10.364 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2123.9778ms
2025-04-19 17:15:10.366 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:10.386 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2580.3822ms
2025-04-19 17:15:10.851 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:15:10.866 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:10.868 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:15:10.917 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:15:10.928 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:15:10.932 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:15:10.946 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:15:10.950 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 79.2602ms
2025-04-19 17:15:10.954 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:10.959 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 108.6061ms
2025-04-19 17:15:11.038 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:02:29', Current time (UTC): '19/04/2025 21:15:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 17:15:11.074 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:02:29', Current time (UTC): '19/04/2025 21:15:11'.
2025-04-19 17:15:11.083 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 17:15:11.094 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 17:15:11.096 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 167.1279ms
2025-04-19 17:15:11.110 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-19 17:15:11.114 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:02:29', Current time (UTC): '19/04/2025 21:15:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 17:15:11.123 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:02:29', Current time (UTC): '19/04/2025 21:15:11'.
2025-04-19 17:15:11.128 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 17:15:11.135 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:15:11.373 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 17:15:11.589 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 450.6475ms
2025-04-19 17:15:11.593 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 17:15:11.602 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 17:15:11.701 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 591.3519ms
2025-04-19 17:15:32.969 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 17:15:32.978 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:02:29', Current time (UTC): '19/04/2025 21:15:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 17:15:32.989 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:02:29', Current time (UTC): '19/04/2025 21:15:32'.
2025-04-19 17:15:32.994 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 17:15:33.000 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:15:33.040 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 17:15:33.217 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 17:15:33.241 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 17:15:33.243 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 238.8367ms
2025-04-19 17:15:33.245 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 17:15:33.248 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 279.3242ms
2025-04-19 17:15:33.297 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:15:33.300 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:33.301 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:15:33.312 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:15:33.320 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:15:33.331 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:15:33.334 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 29.7442ms
2025-04-19 17:15:33.336 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:33.340 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 42.3845ms
2025-04-19 17:15:33.438 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:15:33.445 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:33.446 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:15:33.462 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:15:33.474 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:15:33.484 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:15:33.487 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 36.3737ms
2025-04-19 17:15:33.489 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:33.493 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 60.2355ms
2025-04-19 17:15:44.676 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 17:15:44.681 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 17:15:44.687 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:15:44.709 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 17:15:45.256 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 17:15:45.266 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 17:15:45.271 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 579.898ms
2025-04-19 17:15:45.273 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 17:15:45.281 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 605.0479ms
2025-04-19 17:15:45.319 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:15:45.322 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:45.324 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:15:45.331 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:15:45.340 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:15:45.346 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:15:45.348 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 20.3123ms
2025-04-19 17:15:45.349 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:45.351 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 32.3374ms
2025-04-19 17:15:45.449 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:15:45.454 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:45.457 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:15:45.461 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:15:45.471 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:15:45.479 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:15:45.485 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:15:45.487 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 19.0207ms
2025-04-19 17:15:45.489 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:15:45.490 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:15:45.491 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 41.731ms
2025-04-19 17:15:45.499 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:15:45.516 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:15:45.522 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:15:45.526 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 21.3937ms
2025-04-19 17:15:45.528 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:15:45.530 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 69.0674ms
2025-04-19 17:17:25.255 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:17:25.682 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:17:25.684 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:17:25.761 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:17:25.763 -04:00 [INF] Hosting environment: Development
2025-04-19 17:17:25.764 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:17:26.680 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:17:26.693 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:17:26.924 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:17:26.985 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:17:27.103 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:17:27.134 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:17:27.110 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 460.2925ms
2025-04-19 17:17:27.162 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 58.6883ms
2025-04-19 17:17:27.223 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.2725ms
2025-04-19 17:17:27.334 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:17:27.399 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.318ms
2025-04-19 17:17:28.736 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:17:28.890 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:17:28.911 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:17:28.930 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1938.4296ms
2025-04-19 17:17:28.932 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:17:28.954 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2262.3625ms
2025-04-19 17:17:29.402 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:17:29.411 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:17:29.414 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:17:29.444 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:17:29.454 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:17:29.460 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:17:29.463 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:17:29.464 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 45.7121ms
2025-04-19 17:17:29.468 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:17:29.474 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 71.604ms
2025-04-19 17:17:29.548 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:17:29.554 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:17:29.631 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:17:29.642 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:17:29.645 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 88.7635ms
2025-04-19 17:17:29.647 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:17:29.649 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 186.275ms
2025-04-19 17:21:25.749 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:21:26.316 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:21:26.321 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:21:26.445 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:21:26.448 -04:00 [INF] Hosting environment: Development
2025-04-19 17:21:26.449 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:21:27.132 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:21:28.160 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 1066.902ms
2025-04-19 17:21:28.641 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:21:28.704 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 64.15ms
2025-04-19 17:21:28.729 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:21:28.832 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.9512ms
2025-04-19 17:21:29.257 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:21:29.366 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.1417ms
2025-04-19 17:21:29.870 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:21:29.990 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:21:30.084 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:21:31.838 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:21:32.029 -04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:21:32.052 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:21:32.078 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1969.044ms
2025-04-19 17:21:32.080 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:21:32.106 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2236.3191ms
2025-04-19 17:21:32.694 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:21:32.703 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:21:32.705 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:21:32.742 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:21:32.754 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:21:32.757 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:21:32.762 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:21:32.770 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 58.5277ms
2025-04-19 17:21:32.772 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:21:32.776 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 81.6611ms
2025-04-19 17:21:32.863 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:21:32.874 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:21:33.015 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:21:33.029 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:21:33.035 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 153.9583ms
2025-04-19 17:21:33.036 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:21:33.039 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 281.58ms
2025-04-19 17:22:12.457 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:22:12.937 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:22:12.939 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:22:13.021 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:22:13.023 -04:00 [INF] Hosting environment: Development
2025-04-19 17:22:13.024 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:22:13.590 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:22:14.132 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 570.0898ms
2025-04-19 17:22:14.289 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:22:14.289 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:22:14.332 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 43.4321ms
2025-04-19 17:22:14.549 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 259.566ms
2025-04-19 17:22:14.765 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:22:14.849 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:22:14.917 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:22:14.929 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.6873ms
2025-04-19 17:22:14.967 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:28:22.310 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:28:22.787 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:28:22.789 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:28:22.882 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:28:22.884 -04:00 [INF] Hosting environment: Development
2025-04-19 17:28:22.885 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:28:23.471 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:28:24.032 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 583.9143ms
2025-04-19 17:28:24.053 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:28:24.060 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:28:24.204 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 151.3302ms
2025-04-19 17:28:24.448 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 395.0721ms
2025-04-19 17:28:24.635 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:28:24.964 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 332.5529ms
2025-04-19 17:28:26.047 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:28:26.299 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:28:26.391 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:28:29.066 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:28:29.240 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:28:29.261 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:28:29.280 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2875.8911ms
2025-04-19 17:28:29.282 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:28:29.301 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3255.1271ms
2025-04-19 17:28:29.775 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:28:29.785 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:28:29.788 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:28:29.823 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:28:29.833 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:28:29.839 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:28:29.842 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:28:29.847 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 55.2191ms
2025-04-19 17:28:29.853 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:28:29.857 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 82.5377ms
2025-04-19 17:28:29.938 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:28:29.944 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:28:30.037 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:28:30.049 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:28:30.052 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 102.1785ms
2025-04-19 17:28:30.055 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:28:30.057 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 217.491ms
2025-04-19 17:31:31.064 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:31:31.558 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:31:31.560 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:31:31.698 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:31:31.701 -04:00 [INF] Hosting environment: Development
2025-04-19 17:31:31.702 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:31:32.202 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:31:32.581 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 406.7713ms
2025-04-19 17:31:32.590 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:31:32.590 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:31:32.637 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 47.5901ms
2025-04-19 17:31:32.690 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.708ms
2025-04-19 17:31:32.797 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:31:32.947 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.1855ms
2025-04-19 17:31:34.132 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:31:34.254 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:34.292 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:31:35.946 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:31:36.202 -04:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:31:36.231 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:31:36.252 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1953.3763ms
2025-04-19 17:31:36.260 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:36.310 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2178.4762ms
2025-04-19 17:31:36.787 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:31:36.798 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:36.800 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:31:36.829 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:31:36.841 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:31:36.847 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:31:36.850 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 46.099ms
2025-04-19 17:31:36.851 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:36.858 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 70.8824ms
2025-04-19 17:31:53.304 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 17:31:53.311 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 17:31:53.317 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:31:53.451 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 17:31:53.608 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 17:31:53.635 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 17:31:53.637 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 316.7611ms
2025-04-19 17:31:53.638 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 17:31:53.641 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 337.0076ms
2025-04-19 17:31:53.686 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:31:53.689 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:53.690 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:31:53.700 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:31:53.706 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:31:53.712 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:31:53.715 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 19.8678ms
2025-04-19 17:31:53.716 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:53.718 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 32.5569ms
2025-04-19 17:31:53.807 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:31:53.812 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:53.817 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:31:53.836 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:31:53.846 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:31:53.854 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:31:53.857 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 32.4316ms
2025-04-19 17:31:53.859 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:31:53.862 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 54.5523ms
2025-04-19 17:32:06.150 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 17:32:06.155 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 17:32:06.161 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:32:06.191 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 17:32:06.741 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 17:32:06.749 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 17:32:06.752 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 587.2527ms
2025-04-19 17:32:06.753 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 17:32:06.758 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 608.438ms
2025-04-19 17:32:06.793 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:32:06.797 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:06.799 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:32:06.805 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:32:06.815 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:32:06.824 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:32:06.828 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 25.9102ms
2025-04-19 17:32:06.831 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:06.833 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 39.5154ms
2025-04-19 17:32:06.964 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:32:06.970 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:06.972 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:32:06.984 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:32:06.999 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:32:07.005 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:32:07.007 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 30.0771ms
2025-04-19 17:32:07.009 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:07.011 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 47.0441ms
2025-04-19 17:32:36.459 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:32:36.895 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:32:36.898 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:32:37.018 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:32:37.021 -04:00 [INF] Hosting environment: Development
2025-04-19 17:32:37.023 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:32:37.984 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:32:38.370 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:32:38.596 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:38.654 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:32:38.660 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 704.7815ms
2025-04-19 17:32:38.687 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:32:38.687 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:32:38.719 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 33.9396ms
2025-04-19 17:32:38.815 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.9467ms
2025-04-19 17:32:38.929 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:32:39.052 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.5937ms
2025-04-19 17:32:40.756 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:32:40.964 -04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:32:40.983 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:32:41.008 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2314.6908ms
2025-04-19 17:32:41.010 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:41.036 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2667.6709ms
2025-04-19 17:32:41.518 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:32:41.526 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:41.529 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:32:41.563 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:32:41.580 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:32:41.586 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:32:41.588 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 54.6023ms
2025-04-19 17:32:41.590 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:32:41.593 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 74.9241ms
2025-04-19 17:35:42.774 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:35:43.236 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:35:43.238 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:35:43.321 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:35:43.323 -04:00 [INF] Hosting environment: Development
2025-04-19 17:35:43.324 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:35:44.348 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:35:45.206 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:35:45.246 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:35:45.246 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 913.5112ms
2025-04-19 17:35:45.468 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 261.4255ms
2025-04-19 17:35:45.779 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 533.267ms
2025-04-19 17:35:46.184 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:35:46.296 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 112.3732ms
2025-04-19 17:35:46.649 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:35:46.812 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:35:46.867 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:35:48.614 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:35:48.787 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:35:48.804 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:35:48.820 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1945.3485ms
2025-04-19 17:35:48.823 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:35:48.842 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2193.7999ms
2025-04-19 17:35:49.286 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:35:49.296 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:35:49.297 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:35:49.328 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:35:49.348 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:35:49.359 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:35:49.365 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:35:49.368 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 66.5676ms
2025-04-19 17:35:49.370 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:35:49.375 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 89.2302ms
2025-04-19 17:35:49.440 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:35:49.445 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:35:49.527 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:35:49.539 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:35:49.543 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 94.1177ms
2025-04-19 17:35:49.546 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:35:49.548 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 200.6482ms
2025-04-19 17:41:54.493 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:41:54.895 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:41:54.897 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:41:55.025 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:41:55.059 -04:00 [INF] Hosting environment: Development
2025-04-19 17:41:55.060 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:41:55.769 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:41:56.604 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 867.3232ms
2025-04-19 17:41:56.668 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:41:56.669 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:41:56.715 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 46.9755ms
2025-04-19 17:41:57.031 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 362.2256ms
2025-04-19 17:41:57.182 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:41:57.434 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 251.4848ms
2025-04-19 17:41:59.004 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:41:59.131 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:41:59.170 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:42:01.222 -04:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:42:01.494 -04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:42:01.516 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:42:01.540 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2361.3697ms
2025-04-19 17:42:01.544 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:42:01.565 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2561.8093ms
2025-04-19 17:42:02.733 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:42:02.744 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:42:02.746 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:42:02.785 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:42:02.818 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:42:02.829 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:42:02.833 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 83.2491ms
2025-04-19 17:42:02.836 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:42:02.836 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:42:02.852 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 118.3225ms
2025-04-19 17:42:02.948 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:42:02.953 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:42:03.041 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:42:03.051 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:42:03.054 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 98.0892ms
2025-04-19 17:42:03.056 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:42:03.058 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 222.8436ms
2025-04-19 17:46:28.164 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:46:28.563 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:46:28.564 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:46:28.681 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:46:28.685 -04:00 [INF] Hosting environment: Development
2025-04-19 17:46:28.687 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:46:29.597 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:46:29.597 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:46:29.998 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:46:30.050 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:46:30.171 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:46:30.182 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:46:30.187 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 616.8359ms
2025-04-19 17:46:30.228 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 57.0286ms
2025-04-19 17:46:30.333 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 150.7255ms
2025-04-19 17:46:30.467 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:46:30.529 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.3795ms
2025-04-19 17:46:31.952 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:46:32.133 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:46:32.151 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:46:32.171 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2114.5565ms
2025-04-19 17:46:32.174 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:46:32.198 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2628.6926ms
2025-04-19 17:46:32.848 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:46:32.869 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:46:32.871 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:46:32.927 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:46:32.930 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:46:32.940 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:46:32.958 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:46:32.969 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 83.9031ms
2025-04-19 17:46:32.978 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:46:33.000 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 152.5225ms
2025-04-19 17:46:33.064 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:46:33.073 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:46:33.177 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:46:33.189 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:46:33.194 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 112.3758ms
2025-04-19 17:46:33.196 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:46:33.200 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 270.7099ms
2025-04-19 17:51:08.167 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:51:08.616 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:51:08.618 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:51:08.689 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:51:08.690 -04:00 [INF] Hosting environment: Development
2025-04-19 17:51:08.691 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:51:09.292 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:51:10.098 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 835.5822ms
2025-04-19 17:51:10.291 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:51:10.291 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:51:10.511 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 245.444ms
2025-04-19 17:51:10.632 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 367.0112ms
2025-04-19 17:51:11.287 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:51:11.297 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:51:11.463 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.0094ms
2025-04-19 17:51:11.487 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:51:11.555 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:51:13.508 -04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:51:13.687 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:51:13.704 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:51:13.719 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2152.904ms
2025-04-19 17:51:13.722 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:51:13.742 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2456.0964ms
2025-04-19 17:51:14.186 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:51:14.199 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:51:14.202 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:51:14.243 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:51:14.253 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:51:14.259 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:51:14.261 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:51:14.271 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 63.2145ms
2025-04-19 17:51:14.273 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:51:14.277 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 90.827ms
2025-04-19 17:51:14.356 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:51:14.363 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:51:14.444 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:51:14.454 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:51:14.457 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 90.9986ms
2025-04-19 17:51:14.459 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:51:14.461 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 202.3237ms
2025-04-19 17:56:11.997 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:56:12.818 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:56:12.821 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:56:13.018 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:56:13.023 -04:00 [INF] Hosting environment: Development
2025-04-19 17:56:13.031 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:56:13.271 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:56:13.509 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 17:56:13.762 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:56:13.805 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:56:13.954 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 444.2857ms
2025-04-19 17:56:13.979 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:56:13.980 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 17:56:14.012 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 32.9011ms
2025-04-19 17:56:14.088 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 108.2703ms
2025-04-19 17:56:14.207 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 17:56:14.282 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.6245ms
2025-04-19 17:56:16.341 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:56:16.562 -04:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:56:16.583 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:56:16.602 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2787.3276ms
2025-04-19 17:56:16.605 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:56:16.630 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3392.0348ms
2025-04-19 17:56:17.153 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:56:17.184 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:56:17.208 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:56:17.294 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:56:17.323 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:56:17.329 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:56:17.367 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:56:17.376 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 143.5212ms
2025-04-19 17:56:17.381 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:56:17.395 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 242.944ms
2025-04-19 17:56:17.436 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:47:06', Current time (UTC): '19/04/2025 21:56:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 17:56:17.492 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:47:06', Current time (UTC): '19/04/2025 21:56:17'.
2025-04-19 17:56:17.500 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 17:56:17.511 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 17:56:17.513 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 189.317ms
2025-04-19 17:56:17.526 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-04-19 17:56:17.531 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:47:06', Current time (UTC): '19/04/2025 21:56:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 17:56:17.541 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:47:06', Current time (UTC): '19/04/2025 21:56:17'.
2025-04-19 17:56:17.544 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 17:56:17.552 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:56:17.711 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-04-19 17:56:17.889 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 332.2432ms
2025-04-19 17:56:17.894 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-04-19 17:56:17.901 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method35(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 17:56:17.982 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 455.9027ms
2025-04-19 17:57:17.399 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/logout - application/json; charset=utf-8 null
2025-04-19 17:57:17.410 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:47:06', Current time (UTC): '19/04/2025 21:57:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-19 17:57:17.422 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/04/2025 21:47:06', Current time (UTC): '19/04/2025 21:57:17'.
2025-04-19 17:57:17.426 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 17:57:17.438 -04:00 [INF] Route matched with {action = "Logout", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout(Application.DTOs.Auth.LogoutRequest) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:57:17.494 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt]
FROM [UserRefreshTokens] AS [u]
WHERE [u].[RefreshToken] = @__refreshToken_0
2025-04-19 17:57:17.701 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshTokens] SET [RevokedAt] = @p0
OUTPUT 1
WHERE [RefreshToken] = @p1 AND [UserId] = @p2;
2025-04-19 17:57:17.726 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-04-19 17:57:17.727 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Logout (Presentation) in 283.3399ms
2025-04-19 17:57:17.728 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Logout (Presentation)'
2025-04-19 17:57:17.730 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/logout - 204 null null 333.8149ms
2025-04-19 17:57:17.783 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:57:17.786 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:17.787 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:57:17.800 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:57:17.811 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:57:17.815 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:57:17.817 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 24.3896ms
2025-04-19 17:57:17.819 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:17.820 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 36.9306ms
2025-04-19 17:57:18.067 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:57:18.078 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:18.081 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:57:18.091 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:57:18.103 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:57:18.111 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:57:18.114 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 27.6984ms
2025-04-19 17:57:18.116 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:18.118 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 50.9268ms
2025-04-19 17:57:37.533 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/login - application/json; charset=utf-8 null
2025-04-19 17:57:37.539 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 17:57:37.546 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-19 17:57:37.569 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-19 17:57:38.067 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-19 17:57:38.073 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-19 17:57:38.076 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 525.9842ms
2025-04-19 17:57:38.077 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-19 17:57:38.080 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/login - 200 null application/json; charset=utf-8 546.1963ms
2025-04-19 17:57:38.111 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:57:38.115 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:38.116 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:57:38.123 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:57:38.133 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:57:38.137 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:57:38.139 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 19.4164ms
2025-04-19 17:57:38.141 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:38.143 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 31.5247ms
2025-04-19 17:57:38.371 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 17:57:38.400 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:38.409 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 17:57:38.431 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 17:57:38.436 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 17:57:38.449 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 17:57:38.455 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:57:38.455 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:57:38.461 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 28.3615ms
2025-04-19 17:57:38.462 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 17:57:38.463 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 17:57:38.474 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 102.5813ms
2025-04-19 17:57:38.488 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 17:57:38.495 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:57:38.498 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 27.5319ms
2025-04-19 17:57:38.500 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 17:57:38.502 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 70.438ms
2025-04-19 17:59:58.514 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:59:58.922 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 17:59:58.923 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 17:59:58.992 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:59:58.994 -04:00 [INF] Hosting environment: Development
2025-04-19 17:59:58.995 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 17:59:59.718 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 18:00:00.160 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 470.7656ms
2025-04-19 18:00:00.178 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 18:00:00.184 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 18:00:00.195 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 18.0792ms
2025-04-19 18:00:00.276 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.5531ms
2025-04-19 18:00:00.381 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 18:00:00.464 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.7288ms
2025-04-19 18:00:02.402 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 18:00:02.517 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:00:02.546 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 18:00:04.197 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 18:00:04.370 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 18:00:04.388 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:00:04.403 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1851.1727ms
2025-04-19 18:00:04.405 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:00:04.426 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2024.0632ms
2025-04-19 18:00:04.852 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 18:00:04.863 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:00:04.867 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 18:00:04.897 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 18:00:04.905 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 18:00:04.911 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 18:00:04.913 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:00:04.918 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 47.1345ms
2025-04-19 18:00:04.920 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:00:04.922 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 71.3092ms
2025-04-19 18:00:04.993 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 18:00:04.999 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 18:00:05.077 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 18:00:05.091 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:00:05.098 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 94.9583ms
2025-04-19 18:00:05.100 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 18:00:05.102 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 190.7112ms
2025-04-19 18:03:16.710 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 18:03:17.600 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-19 18:03:17.613 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-19 18:03:17.817 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 18:03:17.862 -04:00 [INF] Hosting environment: Development
2025-04-19 18:03:17.892 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-19 18:03:18.323 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 18:03:18.451 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-19 18:03:18.904 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:03:18.941 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 18:03:19.024 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 18:03:19.036 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-19 18:03:19.049 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 597.344ms
2025-04-19 18:03:19.060 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 36.0334ms
2025-04-19 18:03:19.152 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 119.4337ms
2025-04-19 18:03:19.273 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-19 18:03:19.366 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.8486ms
2025-04-19 18:03:21.024 -04:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 18:03:21.214 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 18:03:21.233 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:03:21.252 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2304.5054ms
2025-04-19 18:03:21.254 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:03:21.279 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3048.5858ms
2025-04-19 18:03:21.701 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 18:03:21.710 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:03:21.714 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 18:03:21.746 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 18:03:21.755 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 18:03:21.763 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:03:21.763 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 18:03:21.766 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 48.3612ms
2025-04-19 18:03:21.770 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:03:21.773 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 72.5764ms
2025-04-19 18:03:21.855 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 18:03:21.862 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 18:03:21.949 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 18:03:21.960 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:03:21.964 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 97.0202ms
2025-04-19 18:03:21.966 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 18:03:21.967 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 204.1349ms
2025-04-19 18:05:41.497 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 18:05:41.504 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:05:41.505 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 18:05:41.517 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 18:05:41.529 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 18:05:41.536 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:05:41.539 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 30.2919ms
2025-04-19 18:05:41.540 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:05:41.542 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 44.6922ms
2025-04-19 18:05:41.810 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-19 18:05:41.826 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:05:41.835 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-19 18:05:41.839 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-04-19 18:05:41.851 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-19 18:05:41.854 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 18:05:41.857 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-19 18:05:41.857 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-19 18:05:41.876 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:05:41.882 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-19 18:05:41.885 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 37.9709ms
2025-04-19 18:05:41.889 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:05:41.890 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-19 18:05:41.895 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 31.9204ms
2025-04-19 18:05:41.897 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 86.1784ms
2025-04-19 18:05:41.898 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-19 18:05:41.906 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 200 null application/json; charset=utf-8 70.5019ms
