2025-04-13 10:25:02.152 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-13 10:25:02.624 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-13 10:25:02.626 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-13 10:25:02.788 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-13 10:25:02.794 -04:00 [INF] Hosting environment: Development
2025-04-13 10:25:02.797 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-13 10:25:04.671 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-13 10:25:05.739 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-13 10:25:05.748 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 1080.7479ms
2025-04-13 10:25:05.798 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-13 10:25:05.818 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 10:25:05.974 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 176.6382ms
2025-04-13 10:25:06.259 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 520.2365ms
2025-04-13 10:25:06.417 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-13 10:25:06.456 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:25:06.542 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.6033ms
2025-04-13 10:25:06.555 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 10:25:09.029 -04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 10:25:09.231 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 10:25:09.246 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:25:09.264 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2484.7767ms
2025-04-13 10:25:09.266 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:25:09.284 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3467.1436ms
2025-04-13 10:25:09.675 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 10:25:09.685 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:25:09.686 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 10:25:09.717 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 10:25:09.724 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 10:25:09.728 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:25:09.731 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 41.081ms
2025-04-13 10:25:09.733 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:25:09.736 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 61.0241ms
2025-04-13 10:26:15.226 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 58
2025-04-13 10:26:15.248 -04:00 [INF] CORS policy execution failed.
2025-04-13 10:26:15.250 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-13 10:26:15.255 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-13 10:26:15.263 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-13 10:26:15.397 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-13 10:26:16.271 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-13 10:26:16.292 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-13 10:26:16.296 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 1031.1368ms
2025-04-13 10:26:16.298 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-13 10:26:16.300 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 1074.4983ms
2025-04-13 10:26:39.069 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories - null null
2025-04-13 10:26:39.146 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-13 10:26:39.150 -04:00 [INF] Route matched with {action = "GetAll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAll() on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:26:39.208 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]), (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [p].[Id] = [l].[PostId]), [u].[Id], [t].[CategoryId], [t].[Name], [t].[PostId], [t].[CategoryId0]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[Id], [u].[Id], [t].[PostId], [t].[CategoryId0]
2025-04-13 10:26:39.214 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:26:39.217 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAll (Presentation) in 63.8641ms
2025-04-13 10:26:39.220 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-13 10:26:39.221 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories - 200 null application/json; charset=utf-8 152.8773ms
2025-04-13 10:28:52.155 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/PostCategories - application/json 894
2025-04-13 10:28:52.179 -04:00 [INF] CORS policy execution failed.
2025-04-13 10:28:52.183 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-13 10:28:52.186 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:28:52.190 -04:00 [INF] Route matched with {action = "Create", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Application.Features.PostsCategories.Commands.CreatePostCategories.CreatePostCategoryCommand) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:28:52.212 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-13 10:28:52.235 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.Create (Presentation) in 41.3541ms
2025-04-13 10:28:52.244 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:28:52.245 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/PostCategories - 400 null application/problem+json; charset=utf-8 90.2485ms
2025-04-13 10:29:15.107 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-13 10:29:15.130 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 10:29:15.134 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-13 10:29:15.152 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-13 10:29:15.157 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:29:15.162 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 24.2922ms
2025-04-13 10:29:15.164 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 10:29:15.165 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 58.3481ms
2025-04-13 10:30:35.544 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/PostCategories - application/json 894
2025-04-13 10:30:35.554 -04:00 [INF] CORS policy execution failed.
2025-04-13 10:30:35.555 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-13 10:30:35.557 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:30:35.558 -04:00 [INF] Route matched with {action = "Create", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Application.Features.PostsCategories.Commands.CreatePostCategories.CreatePostCategoryCommand) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:30:35.565 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-13 10:30:35.568 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.Create (Presentation) in 4.98ms
2025-04-13 10:30:35.570 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:30:35.571 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/PostCategories - 400 null application/problem+json; charset=utf-8 28.9263ms
2025-04-13 10:33:35.092 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-13 10:33:35.562 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-13 10:33:35.564 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-13 10:33:35.654 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-13 10:33:35.656 -04:00 [INF] Hosting environment: Development
2025-04-13 10:33:35.658 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-13 10:33:35.931 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 10:33:36.113 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:33:36.155 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-13 10:33:36.172 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 10:33:36.474 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 319.5015ms
2025-04-13 10:33:36.500 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-13 10:33:36.500 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-13 10:33:36.517 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 16.3882ms
2025-04-13 10:33:36.562 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.2625ms
2025-04-13 10:33:36.661 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-13 10:33:36.716 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.9942ms
2025-04-13 10:33:38.132 -04:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 10:33:38.384 -04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 10:33:38.407 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:33:38.433 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2250.7456ms
2025-04-13 10:33:38.435 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:33:38.473 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2559.2949ms
2025-04-13 10:33:38.888 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 10:33:38.902 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:33:38.904 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 10:33:38.938 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 10:33:38.946 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 10:33:38.950 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:33:38.952 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 44.0081ms
2025-04-13 10:33:38.954 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:33:38.957 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 68.9093ms
2025-04-13 10:33:57.592 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-13 10:33:57.677 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 10:33:57.682 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-13 10:33:57.761 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-13 10:33:57.774 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:33:57.778 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 93.4633ms
2025-04-13 10:33:57.780 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 10:33:57.781 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 189.677ms
2025-04-13 10:34:37.482 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/PostCategories - application/json 637
2025-04-13 10:34:37.508 -04:00 [INF] CORS policy execution failed.
2025-04-13 10:34:37.510 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-13 10:34:37.514 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:34:37.519 -04:00 [INF] Route matched with {action = "Create", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Application.Features.PostsCategories.Commands.CreatePostCategories.CreatePostCategoryCommand) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:34:37.549 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-04-13 10:34:37.567 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.Create (Presentation) in 44.5377ms
2025-04-13 10:34:37.568 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:34:37.570 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/PostCategories - 400 null application/problem+json; charset=utf-8 88.8385ms
2025-04-13 10:34:49.056 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/PostCategories - application/json 638
2025-04-13 10:34:49.060 -04:00 [INF] CORS policy execution failed.
2025-04-13 10:34:49.061 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-13 10:34:49.064 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:34:49.078 -04:00 [INF] Route matched with {action = "Create", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Create(Application.Features.PostsCategories.Commands.CreatePostCategories.CreatePostCategoryCommand) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:34:49.391 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Posts] ([CreatedAt], [ImageUrl], [PostContent], [UpdatedAt], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-13 10:34:49.459 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PostCategories] ([CategoryId], [PostId])
VALUES (@p0, @p1);
2025-04-13 10:34:49.479 -04:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Posts] ([Id], [CreatedAt], [ImageUrl], [PostContent], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-13 10:34:49.512 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Posts' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7ef15160-606d-4f68-a973-d4802b1819eb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Posts' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7ef15160-606d-4f68-a973-d4802b1819eb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-13 10:34:49.778 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.Create (Presentation) in 691.0013ms
2025-04-13 10:34:49.780 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.Create (Presentation)'
2025-04-13 10:34:49.784 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Posts' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7ef15160-606d-4f68-a973-d4802b1819eb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infrastructure.Data.Repositories.PostCategoryRepository.AddAsync(Post entity, List`1 categoryIds) in D:\DESARROLLO\2025\CleanArchitectureApi\Infrastructure\Data\Repositories\PostCategoryRepository.cs:line 44
   at Application.Features.PostsCategories.Commands.CreatePostCategories.CreatePostCategoryCommandHandler.Handle(CreatePostCategoryCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\PostsCategories\Commands\CreatePostCategories\CreatePostCategoryCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.PostCategoriesController.Create(CreatePostCategoryCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\PostCategoriesController.cs:line 53
   at lambda_method45(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-13 10:34:49.842 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/PostCategories - 500 null text/plain; charset=utf-8 786.3753ms
2025-04-13 10:54:12.250 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-13 10:54:12.690 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-13 10:54:12.692 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-13 10:54:12.811 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-13 10:54:12.813 -04:00 [INF] Hosting environment: Development
2025-04-13 10:54:12.814 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-13 10:54:14.393 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-13 10:54:14.772 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-13 10:54:14.775 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 412.1063ms
2025-04-13 10:54:14.776 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-13 10:54:14.801 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 28.9958ms
2025-04-13 10:54:14.889 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 112.7676ms
2025-04-13 10:54:14.924 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 10:54:15.014 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-13 10:54:15.114 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:54:15.129 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.8788ms
2025-04-13 10:54:15.168 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 10:54:16.895 -04:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 10:54:17.091 -04:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 10:54:17.117 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:54:17.140 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 1958.7648ms
2025-04-13 10:54:17.143 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:54:17.170 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 2246.9401ms
2025-04-13 10:54:17.701 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 10:54:17.711 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:54:17.714 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 10:54:17.752 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 10:54:17.760 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 10:54:17.765 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:54:17.767 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 47.8802ms
2025-04-13 10:54:17.768 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 10:54:17.772 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 71.1747ms
2025-04-13 10:54:38.446 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7255/api/Authentication/login - application/json 57
2025-04-13 10:54:38.454 -04:00 [INF] CORS policy execution failed.
2025-04-13 10:54:38.455 -04:00 [INF] Request origin https://localhost:7255 does not have permission to access the resource.
2025-04-13 10:54:38.460 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-13 10:54:38.469 -04:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(Application.Features.Auth.Commands.Login.LoginCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-04-13 10:54:38.610 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[PasswordHash], [u].[UpdatedAt], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__request_Email_0
2025-04-13 10:54:39.422 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshTokens] ([RefreshToken], [UserId], [CreatedAt], [ExpirationDate], [Id], [RevokedAt], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-04-13 10:54:39.439 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Features.Auth.Commands.Login.LoginResponse'.
2025-04-13 10:54:39.443 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Login (Presentation) in 970.4073ms
2025-04-13 10:54:39.445 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Login (Presentation)'
2025-04-13 10:54:39.446 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7255/api/Authentication/login - 200 null application/json; charset=utf-8 1000.5696ms
2025-04-13 10:55:00.775 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories - null null
2025-04-13 10:55:00.855 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'rucR8kOfHJ-Lod2sPPJlo4meWlyMTZNxEgWyLNVREt8'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-13 10:55:00.867 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'rucR8kOfHJ-Lod2sPPJlo4meWlyMTZNxEgWyLNVREt8'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-13 10:55:00.875 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-13 10:55:00.882 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-13 10:55:00.883 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories - 401 0 null 108.5882ms
2025-04-13 10:55:13.207 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-13 10:55:13.212 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'rucR8kOfHJ-Lod2sPPJlo4meWlyMTZNxEgWyLNVREt8'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-04-13 10:55:13.220 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'rucR8kOfHJ-Lod2sPPJlo4meWlyMTZNxEgWyLNVREt8'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-04-13 10:55:13.223 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-13 10:55:13.225 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-13 10:55:13.227 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 401 0 null 19.9856ms
2025-04-13 10:55:34.836 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-13 10:55:34.873 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 10:55:34.878 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-13 10:55:34.891 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-13 10:55:34.897 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:55:34.900 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 20.1524ms
2025-04-13 10:55:34.902 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 10:55:34.903 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 67.7495ms
2025-04-13 10:55:40.328 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories - null null
2025-04-13 10:55:40.332 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-13 10:55:40.338 -04:00 [INF] Route matched with {action = "GetAll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAll() on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:55:40.428 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]), (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [p].[Id] = [l].[PostId]), [u].[Id], [t].[CategoryId], [t].[Name], [t].[PostId], [t].[CategoryId0]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[Id], [u].[Id], [t].[PostId], [t].[CategoryId0]
2025-04-13 10:55:40.438 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:55:40.444 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAll (Presentation) in 102.4756ms
2025-04-13 10:55:40.446 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-13 10:55:40.448 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories - 200 null application/json; charset=utf-8 120.7976ms
2025-04-13 10:58:18.488 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/1 - null null
2025-04-13 10:58:18.496 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetById (Presentation)'
2025-04-13 10:58:18.502 -04:00 [INF] Route matched with {action = "GetById", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.PostCategory]] GetById(Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:58:18.540 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [t].[Username], [t].[UserId], [t].[c], [t].[Id0], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(1) [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]) AS [c], [u].[Id] AS [Id0]
    FROM [Posts] AS [p]
    INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
    WHERE [p].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[Id], [t].[Id0], [t0].[PostId], [t0].[CategoryId0]
2025-04-13 10:58:18.544 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.DTOs.PostWithCategoriesDto'.
2025-04-13 10:58:18.546 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetById (Presentation) in 29.6425ms
2025-04-13 10:58:18.562 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetById (Presentation)'
2025-04-13 10:58:18.564 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/1 - 200 null application/json; charset=utf-8 77.1965ms
2025-04-13 10:58:48.342 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories/category/3 - null null
2025-04-13 10:58:48.352 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetByCategoryId (Presentation)'
2025-04-13 10:58:48.356 -04:00 [INF] Route matched with {action = "GetByCategoryId", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetByCategoryId(Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 10:58:48.410 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]), (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [p].[Id] = [l].[PostId]), [u].[Id], [t].[CategoryId], [t].[Name], [t].[PostId], [t].[CategoryId0]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p1].[PostId], [p1].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p1]
    INNER JOIN [Categories] AS [c] ON [p1].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
WHERE EXISTS (
    SELECT 1
    FROM [PostCategories] AS [p0]
    WHERE [p].[Id] = [p0].[PostId] AND [p0].[CategoryId] = @__categoryId_0)
ORDER BY [p].[Id], [u].[Id], [t].[PostId], [t].[CategoryId0]
2025-04-13 10:58:48.415 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 10:58:48.417 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetByCategoryId (Presentation) in 44.4072ms
2025-04-13 10:58:48.423 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetByCategoryId (Presentation)'
2025-04-13 10:58:48.426 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories/category/3 - 200 null application/json; charset=utf-8 85.0656ms
2025-04-13 11:11:32.634 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-13 11:11:33.243 -04:00 [INF] Now listening on: https://localhost:7255
2025-04-13 11:11:33.245 -04:00 [INF] Now listening on: http://localhost:5072
2025-04-13 11:11:33.348 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-13 11:11:33.350 -04:00 [INF] Hosting environment: Development
2025-04-13 11:11:33.352 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-04-13 11:11:33.535 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 11:11:33.915 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-04-13 11:11:33.915 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 11:11:33.985 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 11:11:34.326 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-04-13 11:11:34.327 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 403.7673ms
2025-04-13 11:11:34.326 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-04-13 11:11:34.367 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 40.5356ms
2025-04-13 11:11:34.421 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.8592ms
2025-04-13 11:11:34.541 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-04-13 11:11:34.620 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.8779ms
2025-04-13 11:11:36.570 -04:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 11:11:36.853 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 11:11:36.901 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 11:11:36.925 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 2928.1234ms
2025-04-13 11:11:36.927 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 11:11:36.956 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 3469.033ms
2025-04-13 11:11:37.892 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - null null
2025-04-13 11:11:37.901 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 11:11:37.903 -04:00 [INF] Route matched with {action = "GetPagedPosts", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPagedPosts(Int32, Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-04-13 11:11:37.936 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Posts] AS [p]
2025-04-13 11:11:37.948 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], CONVERT(varchar(100), [t].[CreatedAt]) AS [Created], (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]) AS [CommentCount]
FROM (
    SELECT [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
ORDER BY [t].[CreatedAt] DESC
2025-04-13 11:11:37.953 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.Common.PagedResult`1[[Application.DTOs.PostDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 11:11:37.955 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetPagedPosts (Presentation) in 47.1547ms
2025-04-13 11:11:37.957 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetPagedPosts (Presentation)'
2025-04-13 11:11:37.960 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/paged?page=1&pageSize=4 - 200 null application/json; charset=utf-8 68.3048ms
2025-04-13 11:11:58.650 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/Category - null null
2025-04-13 11:11:58.749 -04:00 [INF] Executing endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 11:11:58.755 -04:00 [INF] Route matched with {action = "GetAll", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.CategoryDto]]] GetAll() on controller Presentation.Controllers.CategoryController (Presentation).
2025-04-13 11:11:58.830 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-04-13 11:11:58.844 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.CategoryDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 11:11:58.847 -04:00 [INF] Executed action Presentation.Controllers.CategoryController.GetAll (Presentation) in 87.7144ms
2025-04-13 11:11:58.849 -04:00 [INF] Executed endpoint 'Presentation.Controllers.CategoryController.GetAll (Presentation)'
2025-04-13 11:11:58.851 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/Category - 200 null application/json; charset=utf-8 200.9564ms
2025-04-13 11:12:06.480 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/api/PostCategories - null null
2025-04-13 11:12:06.485 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-13 11:12:06.490 -04:00 [INF] Route matched with {action = "GetAll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAll() on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-04-13 11:12:06.548 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]), (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [p].[Id] = [l].[PostId]), [u].[Id], [t].[CategoryId], [t].[Name], [t].[PostId], [t].[CategoryId0]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c].[Id] AS [CategoryId], [c].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c] ON [p0].[CategoryId] = [c].[Id]
) AS [t] ON [p].[Id] = [t].[PostId]
ORDER BY [p].[Id], [u].[Id], [t].[PostId], [t].[CategoryId0]
2025-04-13 11:12:06.557 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-13 11:12:06.561 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAll (Presentation) in 68.3126ms
2025-04-13 11:12:06.563 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAll (Presentation)'
2025-04-13 11:12:06.565 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/api/PostCategories - 200 null application/json; charset=utf-8 85.2718ms
