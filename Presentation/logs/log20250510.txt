2025-05-10 21:30:30.213 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 21:30:30.718 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 21:30:30.721 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 21:30:30.891 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 21:30:30.894 -04:00 [INF] Hosting environment: Development
2025-05-10 21:30:30.897 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 21:30:35.118 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger - null null
2025-05-10 21:30:47.036 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:30:47.071 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger - 301 0 null 11978.9407ms
2025-05-10 21:30:47.075 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 21:30:47.247 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 172.0124ms
2025-05-10 21:30:47.252 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/swagger-ui.css - null null
2025-05-10 21:30:47.252 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/swagger-ui-bundle.js - null null
2025-05-10 21:30:47.252 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/swagger-ui-standalone-preset.js - null null
2025-05-10 21:30:47.305 -04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-10 21:30:47.305 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-10 21:30:47.310 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 57.5752ms
2025-05-10 21:30:47.322 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 21:30:47.327 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:30:47.313 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/swagger-ui.css - 200 152034 text/css 61.3482ms
2025-05-10 21:30:47.330 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 21:30:47.337 -04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-10 21:30:47.340 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 18.8756ms
2025-05-10 21:30:47.348 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 96.0248ms
2025-05-10 21:30:47.388 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:30:47.572 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 242.2482ms
2025-05-10 21:30:47.738 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 21:30:47.752 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/favicon-32x32.png - null null
2025-05-10 21:30:47.756 -04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-10 21:30:47.759 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/favicon-32x32.png - 200 628 image/png 7.6367ms
2025-05-10 21:30:47.791 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.6795ms
2025-05-10 21:30:50.102 -04:00 [INF] Executed DbCommand (148ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:30:50.175 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:30:50.201 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 2796.8593ms
2025-05-10 21:30:50.206 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:30:50.231 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 3195.2286ms
2025-05-10 21:30:54.811 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:30:54.822 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:30:54.824 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:30:54.864 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:30:54.870 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-05-10 21:30:54.871 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:30:54.874 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 46.8795ms
2025-05-10 21:30:54.877 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:30:54.880 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 68.439ms
2025-05-10 21:30:54.964 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:30:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:30:55.001 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:30:54'.
2025-05-10 21:30:55.008 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-10 21:30:55.015 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-10 21:30:55.017 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 147.2975ms
2025-05-10 21:30:55.029 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-05-10 21:30:55.034 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:30:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:30:55.041 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:30:55'.
2025-05-10 21:30:55.043 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:30:55.049 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-05-10 21:30:55.212 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-05-10 21:30:55.382 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 330.294ms
2025-05-10 21:30:55.384 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:30:55.388 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method41(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-10 21:30:55.425 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 396.2601ms
2025-05-10 21:31:04.193 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 21:31:04.198 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:31:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:31:04.203 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:31:04'.
2025-05-10 21:31:04.205 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:31:04.206 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:31:04.260 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:31:04.270 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:31:04.274 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 64.7697ms
2025-05-10 21:31:04.276 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:31:04.277 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 84.8885ms
2025-05-10 21:31:04.290 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 21:31:04.293 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:31:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:31:04.298 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:31:04'.
2025-05-10 21:31:04.300 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:31:04.301 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:31:04.311 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:31:04.317 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:31:04.318 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 14.3797ms
2025-05-10 21:31:04.321 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:31:04.323 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 33.51ms
2025-05-10 21:31:04.338 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 21:31:04.342 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:31:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:31:04.347 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:31:04'.
2025-05-10 21:31:04.349 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:31:04.350 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:31:04.359 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:31:04.367 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:31:04.371 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 17.7251ms
2025-05-10 21:31:04.374 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:31:04.375 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 36.8096ms
2025-05-10 21:41:48.086 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:41:48.095 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:48.096 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:41:48.120 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:41:48.126 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:41:48.129 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 26.0315ms
2025-05-10 21:41:48.131 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:48.133 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 47.8815ms
2025-05-10 21:41:49.199 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:41:49.204 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:49.205 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:41:49.216 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:41:49.227 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:41:49.229 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 21.2741ms
2025-05-10 21:41:49.232 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:49.234 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 34.2893ms
2025-05-10 21:41:49.276 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-05-10 21:41:49.280 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:41:49.285 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
2025-05-10 21:41:49.287 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-10 21:41:49.289 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-10 21:41:49.290 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 14.9534ms
2025-05-10 21:41:49.322 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-05-10 21:41:49.326 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:41:49.331 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
2025-05-10 21:41:49.333 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:41:49.334 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-05-10 21:41:49.346 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-05-10 21:41:49.466 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 128.0844ms
2025-05-10 21:41:49.468 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:41:49.472 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method41(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-10 21:41:49.497 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 174.5684ms
2025-05-10 21:41:49.883 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 21:41:49.887 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:41:49.893 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
2025-05-10 21:41:49.894 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:49.895 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:41:49.905 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:41:49.911 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:41:49.913 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 13.1405ms
2025-05-10 21:41:49.915 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:49.917 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 34.3309ms
2025-05-10 21:41:49.932 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 21:41:49.936 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:41:49.941 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
2025-05-10 21:41:49.943 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:49.944 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:41:49.951 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:41:49.957 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:41:49.959 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 11.4532ms
2025-05-10 21:41:49.961 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:49.964 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 31.6393ms
2025-05-10 21:41:49.979 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 21:41:49.983 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:41:49.988 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:41:49'.
2025-05-10 21:41:49.989 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:49.991 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:41:49.996 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:41:50.001 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:41:50.004 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 10.368ms
2025-05-10 21:41:50.006 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:41:50.007 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 28.7259ms
2025-05-10 21:42:11.811 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:42:11.814 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:11.816 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:42:11.828 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:42:11.837 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:42:11.839 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 19.8687ms
2025-05-10 21:42:11.840 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:11.842 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 30.3891ms
2025-05-10 21:42:12.876 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:42:12.880 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:12.881 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:42:12.889 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:42:12.896 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:42:12.900 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 14.0085ms
2025-05-10 21:42:12.902 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:12.904 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 28.1364ms
2025-05-10 21:42:12.931 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-05-10 21:42:12.934 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:42:12.938 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:12'.
2025-05-10 21:42:12.939 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-10 21:42:12.940 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-10 21:42:12.941 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 10.799ms
2025-05-10 21:42:12.995 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-05-10 21:42:12.999 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:42:13.003 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:12'.
2025-05-10 21:42:13.004 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:42:13.005 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-05-10 21:42:13.014 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-05-10 21:42:13.121 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 111.9942ms
2025-05-10 21:42:13.124 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:42:13.127 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method41(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-10 21:42:13.154 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 159.392ms
2025-05-10 21:42:13.490 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 21:42:13.507 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:13'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:42:13.512 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:13'.
2025-05-10 21:42:13.514 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:13.515 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:42:13.524 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:42:13.529 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:42:13.530 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 11.5487ms
2025-05-10 21:42:13.533 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:13.535 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 45.1602ms
2025-05-10 21:42:13.554 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 21:42:13.557 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:13'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:42:13.561 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:13'.
2025-05-10 21:42:13.562 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:13.563 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:42:13.571 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:42:13.576 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:42:13.577 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 10.6102ms
2025-05-10 21:42:13.579 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:13.580 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 26.2656ms
2025-05-10 21:42:13.602 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 21:42:13.605 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:13'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:42:13.610 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:42:13'.
2025-05-10 21:42:13.611 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:13.612 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:42:13.618 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:42:13.625 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:42:13.627 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 12.9283ms
2025-05-10 21:42:13.629 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:42:13.633 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 31.1118ms
2025-05-10 21:45:13.786 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:45:13.793 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:13.794 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:45:13.812 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:45:13.816 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:45:13.818 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 21.2413ms
2025-05-10 21:45:13.820 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:13.821 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 36.708ms
2025-05-10 21:45:13.969 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:45:13.981 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:13.983 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:45:13.989 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-05-10 21:45:13.995 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:45:13.996 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:13'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:45:14.002 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:45:14.008 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:13'.
2025-05-10 21:45:14.011 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 22.2612ms
2025-05-10 21:45:14.012 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-10 21:45:14.014 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:14.015 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-10 21:45:14.017 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 47.2061ms
2025-05-10 21:45:14.018 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 29.2625ms
2025-05-10 21:45:14.026 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-05-10 21:45:14.030 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:45:14.039 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:14'.
2025-05-10 21:45:14.040 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:45:14.042 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-05-10 21:45:14.048 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-05-10 21:45:14.138 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 93.201ms
2025-05-10 21:45:14.140 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:45:14.143 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method41(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-10 21:45:14.162 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 136.0922ms
2025-05-10 21:45:47.279 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 21:45:47.284 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:45:47.292 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:47'.
2025-05-10 21:45:47.297 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:47.299 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:45:47.322 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:45:47.330 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:45:47.332 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 28.7407ms
2025-05-10 21:45:47.335 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:47.337 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 58.1357ms
2025-05-10 21:45:47.345 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 21:45:47.350 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:45:47.356 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:47'.
2025-05-10 21:45:47.357 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:47.359 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:45:47.371 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:45:47.385 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:45:47.388 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 22.3543ms
2025-05-10 21:45:47.391 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:47.394 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 47.8638ms
2025-05-10 21:45:47.412 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 21:45:47.416 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:45:47.424 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:45:47'.
2025-05-10 21:45:47.427 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:47.430 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:45:47.440 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:45:47.452 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:45:47.455 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.089ms
2025-05-10 21:45:47.459 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:45:47.461 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 49.1137ms
2025-05-10 21:46:52.792 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:46:52.800 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:52.801 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:46:52.822 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:46:52.827 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:46:52.829 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 25.3401ms
2025-05-10 21:46:52.832 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:52.833 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 41.952ms
2025-05-10 21:46:53.055 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:46:53.063 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:53.066 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:46:53.083 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:46:53.093 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:46:53.099 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 25.2731ms
2025-05-10 21:46:53.106 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:53.109 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 53.6388ms
2025-05-10 21:46:53.129 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-05-10 21:46:53.145 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:46:53.151 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:53'.
2025-05-10 21:46:53.153 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-10 21:46:53.154 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-10 21:46:53.155 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 26.8283ms
2025-05-10 21:46:53.162 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-05-10 21:46:53.166 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:46:53.171 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:53'.
2025-05-10 21:46:53.173 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:46:53.174 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-05-10 21:46:53.182 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-05-10 21:46:53.272 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 95.3784ms
2025-05-10 21:46:53.274 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:46:53.277 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method41(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-10 21:46:53.305 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 143.2613ms
2025-05-10 21:46:55.185 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:46:55.190 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:55.191 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:46:55.197 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:46:55.202 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:46:55.204 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 9.8699ms
2025-05-10 21:46:55.205 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:55.207 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 21.2397ms
2025-05-10 21:46:55.426 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:46:55.433 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:55.441 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:46:55.449 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/category - null null
2025-05-10 21:46:55.453 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:46:55.456 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:46:55.462 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:46:55.470 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:55'.
2025-05-10 21:46:55.472 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 23.9377ms
2025-05-10 21:46:55.474 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-10 21:46:55.475 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:46:55.477 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-10 21:46:55.478 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 52.0492ms
2025-05-10 21:46:55.480 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/category - 401 0 null 31.0076ms
2025-05-10 21:46:55.490 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - application/json; charset=utf-8 null
2025-05-10 21:46:55.495 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-10 21:46:55.510 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27/04/2025 18:43:02', Current time (UTC): '11/05/2025 1:46:55'.
2025-05-10 21:46:55.512 -04:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:46:55.514 -04:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] RefreshToken(Application.Features.Auth.Commands.RefreshToken.RefreshTokenCommand) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-05-10 21:46:55.519 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RefreshToken], [u].[CreatedAt], [u].[ExpirationDate], [u].[Id], [u].[RevokedAt], [u].[UpdatedAt], [u0].[Id], [u0].[CreatedAt], [u0].[Email], [u0].[PasswordHash], [u0].[UpdatedAt], [u0].[Username]
FROM [UserRefreshTokens] AS [u]
INNER JOIN [Users] AS [u0] ON [u].[UserId] = [u0].[Id]
WHERE 0 = 1
2025-05-10 21:46:55.604 -04:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RefreshToken (Presentation) in 87.8853ms
2025-05-10 21:46:55.606 -04:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RefreshToken (Presentation)'
2025-05-10 21:46:55.609 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Token inválido o expirado
   at Application.Features.Auth.Commands.RefreshToken.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in D:\DESARROLLO\2025\CleanArchitectureApi\Application\Features\Auth\Commands\RefreshToken\RefreshTokenHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Presentation.Controllers.AuthenticationController.RefreshToken(RefreshTokenCommand command) in D:\DESARROLLO\2025\CleanArchitectureApi\Presentation\Controllers\AuthenticationController.cs:line 35
   at lambda_method41(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-10 21:46:55.633 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7255/api/authentication/refresh-token - 500 null text/plain; charset=utf-8 142.1472ms
2025-05-10 21:58:07.849 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 21:58:08.315 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 21:58:08.316 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 21:58:08.468 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 21:58:08.470 -04:00 [INF] Hosting environment: Development
2025-05-10 21:58:08.471 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 21:58:09.382 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 21:58:10.313 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 953.437ms
2025-05-10 21:58:10.392 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 21:58:10.407 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 21:58:10.792 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 399.8046ms
2025-05-10 21:58:10.947 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 538.0098ms
2025-05-10 21:58:11.138 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 21:58:11.363 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 224.793ms
2025-05-10 21:58:13.052 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:58:13.218 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:13.272 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:15.785 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:15.847 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:15.871 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 2569.2935ms
2025-05-10 21:58:15.874 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:15.897 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 2846.4203ms
2025-05-10 21:58:16.388 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:58:16.401 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:16.404 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:16.468 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:16.476 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:16.478 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 69.4732ms
2025-05-10 21:58:16.482 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:16.485 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 97.9286ms
2025-05-10 21:58:20.425 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 21:58:20.434 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:20.436 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:20.590 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:20.599 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:20.601 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 161.5962ms
2025-05-10 21:58:20.603 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:20.606 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 180.9007ms
2025-05-10 21:58:20.623 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 21:58:20.626 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:20.627 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:20.642 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:20.647 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:20.651 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.8538ms
2025-05-10 21:58:20.653 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:20.655 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 31.8754ms
2025-05-10 21:58:22.185 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 21:58:22.189 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:22.191 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:22.200 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:22.207 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:22.210 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 16.8845ms
2025-05-10 21:58:22.213 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:22.216 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 30.4305ms
2025-05-10 21:58:35.464 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:58:35.468 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:35.470 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:35.488 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:35.495 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:35.497 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 25.0469ms
2025-05-10 21:58:35.502 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:35.505 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 40.6786ms
2025-05-10 21:58:35.758 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 21:58:35.771 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:35.773 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:35.782 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:35.798 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:35.802 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 25.5415ms
2025-05-10 21:58:35.804 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:35.806 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 47.9621ms
2025-05-10 21:58:37.371 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 21:58:37.374 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:37.376 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:37.390 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:37.398 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:37.402 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 21.4331ms
2025-05-10 21:58:37.405 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:37.407 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 36.3401ms
2025-05-10 21:58:37.418 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 21:58:37.422 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:37.426 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:37.436 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:37.447 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:37.450 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.6625ms
2025-05-10 21:58:37.453 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:37.455 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 36.7901ms
2025-05-10 21:58:37.470 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 21:58:37.475 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:37.477 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 21:58:37.488 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 21:58:37.497 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 21:58:37.506 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 25.0599ms
2025-05-10 21:58:37.509 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 21:58:37.513 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 43.5329ms
2025-05-10 22:02:16.501 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:02:16.869 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 22:02:16.870 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 22:02:16.941 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:02:16.942 -04:00 [INF] Hosting environment: Development
2025-05-10 22:02:16.943 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 22:02:17.670 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 22:02:18.011 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 364.1495ms
2025-05-10 22:02:18.025 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 22:02:18.025 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 22:02:18.046 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 20.7566ms
2025-05-10 22:02:18.126 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.4879ms
2025-05-10 22:02:18.283 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 22:02:18.466 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 182.182ms
2025-05-10 22:02:20.839 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:02:20.946 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:20.976 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:22.860 -04:00 [INF] Executed DbCommand (70ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:22.923 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:22.941 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 1958.7485ms
2025-05-10 22:02:22.943 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:22.965 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 2126.4861ms
2025-05-10 22:02:23.401 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:02:23.410 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:23.413 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:23.452 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:23.462 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:23.464 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 47.4321ms
2025-05-10 22:02:23.466 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:23.468 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 67.8836ms
2025-05-10 22:02:27.903 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:02:27.910 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:27.912 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:28.019 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:28.031 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:28.033 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 117.8717ms
2025-05-10 22:02:28.036 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:28.038 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 134.2985ms
2025-05-10 22:02:28.048 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:02:28.052 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:28.055 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:28.068 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:28.075 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:28.077 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 16.9403ms
2025-05-10 22:02:28.081 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:28.083 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 35.4152ms
2025-05-10 22:02:28.097 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:02:28.101 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:28.102 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:28.110 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:28.118 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:28.120 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 14.4955ms
2025-05-10 22:02:28.123 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:28.125 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 27.7965ms
2025-05-10 22:02:40.108 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:02:40.113 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:40.115 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:40.139 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:40.146 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:40.149 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 28.9594ms
2025-05-10 22:02:40.151 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:40.153 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 45.449ms
2025-05-10 22:02:40.526 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:02:40.541 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:40.544 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:40.602 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:40.611 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:40.615 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 59.6145ms
2025-05-10 22:02:40.618 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:40.621 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 95.3311ms
2025-05-10 22:02:50.617 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:02:50.621 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:50.623 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:50.651 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:50.658 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:50.660 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 32.0608ms
2025-05-10 22:02:50.662 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:50.665 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 48.0123ms
2025-05-10 22:02:50.681 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:02:50.684 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:50.685 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:50.694 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:50.702 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:50.704 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 15.4023ms
2025-05-10 22:02:50.708 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:50.710 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 28.9647ms
2025-05-10 22:02:50.718 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:02:50.722 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:50.724 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:02:50.735 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:02:50.742 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:02:50.747 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.2266ms
2025-05-10 22:02:50.755 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:02:50.757 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 39.4058ms
2025-05-10 22:03:01.491 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:03:01.497 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:01.499 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:03:01.520 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:03:01.526 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:03:01.528 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 23.7077ms
2025-05-10 22:03:01.531 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:01.533 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 41.8139ms
2025-05-10 22:03:01.836 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:03:01.849 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:01.852 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:03:01.864 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:03:01.871 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:03:01.877 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.6552ms
2025-05-10 22:03:01.882 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:01.884 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 48.2546ms
2025-05-10 22:03:07.283 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:03:07.286 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:07.288 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:03:07.301 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:03:07.307 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:03:07.311 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 18.2692ms
2025-05-10 22:03:07.317 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:07.321 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 38.3083ms
2025-05-10 22:03:07.332 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:03:07.336 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:07.337 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:03:07.344 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:03:07.350 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:03:07.353 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 12.8809ms
2025-05-10 22:03:07.354 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:07.356 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 24.1961ms
2025-05-10 22:03:07.366 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:03:07.369 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:07.371 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:03:07.382 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:03:07.388 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:03:07.391 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 15.6213ms
2025-05-10 22:03:07.393 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:03:07.396 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 29.8225ms
2025-05-10 22:04:55.088 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:04:55.509 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 22:04:55.511 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 22:04:55.601 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:04:55.602 -04:00 [INF] Hosting environment: Development
2025-05-10 22:04:55.604 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 22:04:56.305 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 22:04:56.844 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 571.8936ms
2025-05-10 22:04:56.864 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 22:04:56.864 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 22:04:56.931 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 66.861ms
2025-05-10 22:04:57.365 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 500.8988ms
2025-05-10 22:04:57.485 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 22:04:57.759 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 274.3093ms
2025-05-10 22:04:59.213 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:04:59.315 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:04:59.344 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:05:01.145 -04:00 [INF] Executed DbCommand (67ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:05:01.219 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:05:01.236 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 1886.7916ms
2025-05-10 22:05:01.239 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:05:01.256 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 2044.3041ms
2025-05-10 22:05:01.728 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:05:01.739 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:05:01.741 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:05:01.775 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:05:01.781 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:05:01.783 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 39.3641ms
2025-05-10 22:05:01.785 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:05:01.788 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 60.1986ms
2025-05-10 22:06:17.293 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:06:17.302 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:06:17.304 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:06:17.437 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:06:17.447 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:06:17.450 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 140.2503ms
2025-05-10 22:06:17.452 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:06:17.454 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 161.9676ms
2025-05-10 22:12:21.932 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:12:22.458 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 22:12:22.459 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 22:12:22.537 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:12:22.539 -04:00 [INF] Hosting environment: Development
2025-05-10 22:12:22.540 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 22:12:23.383 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 22:12:23.840 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 490.8468ms
2025-05-10 22:12:23.869 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 22:12:23.869 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 22:12:23.894 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 24.8338ms
2025-05-10 22:12:23.999 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.5845ms
2025-05-10 22:12:24.294 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 22:12:24.719 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 425.3691ms
2025-05-10 22:12:25.985 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:12:26.107 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:26.143 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:28.473 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:28.532 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:28.547 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 2396.6762ms
2025-05-10 22:12:28.549 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:28.567 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 2582.7084ms
2025-05-10 22:12:29.277 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:12:29.295 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:29.297 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:29.352 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:29.359 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:29.363 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 60.5846ms
2025-05-10 22:12:29.366 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:29.369 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 92.3769ms
2025-05-10 22:12:35.748 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:12:35.759 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:35.762 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:35.971 -04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:35.983 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:35.987 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 218.6218ms
2025-05-10 22:12:35.990 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:35.993 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 244.7757ms
2025-05-10 22:12:44.646 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:12:44.650 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:44.651 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:44.680 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:44.689 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:44.694 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 39.8366ms
2025-05-10 22:12:44.699 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:44.700 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 55.0934ms
2025-05-10 22:12:45.262 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:12:45.267 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:45.270 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:45.279 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:45.285 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:45.287 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 13.5176ms
2025-05-10 22:12:45.289 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:45.291 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 28.6812ms
2025-05-10 22:12:52.859 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:12:52.864 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:52.865 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:52.880 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:52.884 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:52.886 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 19.0006ms
2025-05-10 22:12:52.888 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:52.889 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 29.9692ms
2025-05-10 22:12:53.153 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:12:53.160 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:53.164 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:53.175 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:53.186 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:53.189 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.1166ms
2025-05-10 22:12:53.191 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:53.193 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 39.9205ms
2025-05-10 22:12:55.546 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:12:55.550 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:55.552 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:12:55.565 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:12:55.582 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:12:55.585 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 26.8562ms
2025-05-10 22:12:55.588 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:12:55.590 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 44.0752ms
2025-05-10 22:13:02.036 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:13:02.039 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:02.041 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:02.052 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:02.059 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:02.063 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 18.498ms
2025-05-10 22:13:02.066 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:02.069 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 32.4688ms
2025-05-10 22:13:02.903 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:13:02.907 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:02.908 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:02.915 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:02.922 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:02.924 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 11.8098ms
2025-05-10 22:13:02.926 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:02.928 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 24.4416ms
2025-05-10 22:13:14.570 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/12 - null null
2025-05-10 22:13:14.576 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetById (Presentation)'
2025-05-10 22:13:14.588 -04:00 [INF] Route matched with {action = "GetById", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.DTOs.PostDto]] GetById(Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-05-10 22:13:14.614 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]) AS [Created]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
WHERE [p].[Id] = @__id_0
2025-05-10 22:13:14.620 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.DTOs.PostDto'.
2025-05-10 22:13:14.622 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetById (Presentation) in 30.6741ms
2025-05-10 22:13:14.624 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetById (Presentation)'
2025-05-10 22:13:14.626 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/12 - 200 null application/json; charset=utf-8 55.6145ms
2025-05-10 22:13:16.968 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:13:16.974 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:16.980 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:16.991 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:16.998 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:17.000 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 15.6277ms
2025-05-10 22:13:17.003 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:17.004 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 35.9422ms
2025-05-10 22:13:19.722 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:13:19.728 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:19.730 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:19.745 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:19.754 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:19.757 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 21.3466ms
2025-05-10 22:13:19.760 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:19.762 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 40.0315ms
2025-05-10 22:13:23.449 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:13:23.453 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:23.454 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:23.466 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:23.479 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:23.485 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 26.1829ms
2025-05-10 22:13:23.487 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:23.489 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 40.909ms
2025-05-10 22:13:24.332 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:13:24.336 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:24.338 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:24.352 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:24.363 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:24.366 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 23.4022ms
2025-05-10 22:13:24.368 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:24.370 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 38.1111ms
2025-05-10 22:13:39.247 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:13:39.250 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:39.251 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:39.267 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:39.271 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:39.272 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 18.7429ms
2025-05-10 22:13:39.274 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:39.276 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 28.3405ms
2025-05-10 22:13:39.589 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:13:39.598 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:39.601 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:39.611 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:39.618 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:39.622 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 15.4665ms
2025-05-10 22:13:39.626 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:39.630 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 40.8663ms
2025-05-10 22:13:41.166 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:13:41.171 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:41.173 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:41.204 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:41.212 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:41.216 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 34.781ms
2025-05-10 22:13:41.219 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:41.222 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 55.927ms
2025-05-10 22:13:43.848 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:13:43.852 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:43.853 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:43.877 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:43.887 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:43.890 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 32.4039ms
2025-05-10 22:13:43.894 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:43.897 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 49.1023ms
2025-05-10 22:13:44.948 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:13:44.952 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:44.953 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:44.967 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:44.980 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:44.984 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 24.6013ms
2025-05-10 22:13:44.986 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:44.988 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 40.1271ms
2025-05-10 22:13:51.988 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/post/4 - null null
2025-05-10 22:13:51.994 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostController.GetById (Presentation)'
2025-05-10 22:13:51.998 -04:00 [INF] Route matched with {action = "GetById", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.DTOs.PostDto]] GetById(Int32) on controller Presentation.Controllers.PostController (Presentation).
2025-05-10 22:13:52.011 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[PostContent], [u].[Username], [p].[UserId], CONVERT(varchar(100), [p].[CreatedAt]) AS [Created]
FROM [Posts] AS [p]
INNER JOIN [Users] AS [u] ON [p].[UserId] = [u].[Id]
WHERE [p].[Id] = @__id_0
2025-05-10 22:13:52.016 -04:00 [INF] Executing OkObjectResult, writing value of type 'Application.DTOs.PostDto'.
2025-05-10 22:13:52.017 -04:00 [INF] Executed action Presentation.Controllers.PostController.GetById (Presentation) in 15.4762ms
2025-05-10 22:13:52.019 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostController.GetById (Presentation)'
2025-05-10 22:13:52.021 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/post/4 - 200 null application/json; charset=utf-8 32.5506ms
2025-05-10 22:13:53.812 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:13:53.817 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:53.824 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:53.850 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:53.855 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:53.857 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 25.7024ms
2025-05-10 22:13:53.859 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:53.861 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 49.3285ms
2025-05-10 22:13:57.116 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:13:57.120 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:57.122 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:57.131 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:57.139 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:57.142 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 14.5901ms
2025-05-10 22:13:57.144 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:57.147 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 30.3425ms
2025-05-10 22:13:57.158 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - null null
2025-05-10 22:13:57.164 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:57.166 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:13:57.202 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:13:57.210 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:13:57.212 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 40.7649ms
2025-05-10 22:13:57.216 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:13:57.217 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-19T21:07:09&take=5 - 200 null application/json; charset=utf-8 59.0936ms
2025-05-10 22:14:03.750 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - null null
2025-05-10 22:14:03.754 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:03.756 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:14:03.764 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:14:03.774 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:14:03.776 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 16.6286ms
2025-05-10 22:14:03.778 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:03.779 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-13T14:34:49&take=5 - 200 null application/json; charset=utf-8 28.9463ms
2025-05-10 22:14:47.725 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:14:47.732 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:47.733 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:14:47.751 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:14:47.755 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:14:47.756 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.2955ms
2025-05-10 22:14:47.758 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:47.759 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 35.5228ms
2025-05-10 22:14:47.980 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - null null
2025-05-10 22:14:48.003 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:48.005 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:14:48.021 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:14:48.035 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:14:48.039 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 26.0493ms
2025-05-10 22:14:48.042 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:48.045 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=5 - 200 null application/json; charset=utf-8 64.4827ms
2025-05-10 22:14:48.068 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - null null
2025-05-10 22:14:48.071 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:48.072 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:14:48.091 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__lastPostDate_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_1) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    WHERE [p].[CreatedAt] < @__lastPostDate_0
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:14:48.096 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:14:48.098 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 23.5972ms
2025-05-10 22:14:48.102 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:14:48.103 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=2025-04-20T18:42:31&take=5 - 200 null application/json; charset=utf-8 34.8425ms
2025-05-10 22:15:13.012 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:15:13.659 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 22:15:13.661 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 22:15:13.780 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:15:13.784 -04:00 [INF] Hosting environment: Development
2025-05-10 22:15:13.786 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 22:15:14.682 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 22:15:15.134 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 469.714ms
2025-05-10 22:15:15.159 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 22:15:15.160 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 22:15:15.184 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 24.2493ms
2025-05-10 22:15:15.251 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.3253ms
2025-05-10 22:15:15.381 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 22:15:15.530 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 148.5285ms
2025-05-10 22:15:16.764 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=2 - null null
2025-05-10 22:15:16.932 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:15:16.987 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:15:19.172 -04:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:15:19.242 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:15:19.259 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 2256.8131ms
2025-05-10 22:15:19.263 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:15:19.284 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=2 - 200 null application/json; charset=utf-8 2521.1285ms
2025-05-10 22:15:19.746 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=2 - null null
2025-05-10 22:15:19.756 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:15:19.758 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:15:19.808 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:15:19.814 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:15:19.816 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 53.7413ms
2025-05-10 22:15:19.819 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:15:19.822 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=2 - 200 null application/json; charset=utf-8 76.2959ms
2025-05-10 22:16:17.894 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:16:18.453 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 22:16:18.454 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 22:16:18.578 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:16:18.580 -04:00 [INF] Hosting environment: Development
2025-05-10 22:16:18.582 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 22:16:19.400 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 22:16:20.089 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 714.3931ms
2025-05-10 22:16:20.152 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 22:16:20.164 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 22:16:20.194 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 42.6204ms
2025-05-10 22:16:20.269 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.0152ms
2025-05-10 22:16:20.435 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:16:20.538 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 22:16:20.589 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:16:20.621 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.3843ms
2025-05-10 22:16:20.642 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:16:22.874 -04:00 [INF] Executed DbCommand (64ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:16:22.936 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:16:22.948 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 2300.2924ms
2025-05-10 22:16:22.950 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:16:22.967 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 2532.8555ms
2025-05-10 22:16:23.405 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:16:23.414 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:16:23.416 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:16:23.457 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:16:23.463 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:16:23.465 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 45.4179ms
2025-05-10 22:16:23.467 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:16:23.471 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 65.8912ms
2025-05-10 22:20:50.241 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:20:50.722 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 22:20:50.750 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 22:20:50.863 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:20:50.866 -04:00 [INF] Hosting environment: Development
2025-05-10 22:20:50.869 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 22:20:51.628 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 22:20:52.443 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 22:20:52.443 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 22:20:52.491 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 902.1322ms
2025-05-10 22:20:52.614 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 170.9958ms
2025-05-10 22:20:52.781 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 338.0117ms
2025-05-10 22:20:52.914 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 22:20:53.104 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.241ms
2025-05-10 22:20:54.381 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:20:54.722 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:20:54.776 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:20:57.214 -04:00 [INF] Executed DbCommand (73ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:20:57.299 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:20:57.321 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 2532.4764ms
2025-05-10 22:20:57.325 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:20:57.355 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 2974.6316ms
2025-05-10 22:20:57.837 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:20:57.846 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:20:57.848 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:20:57.901 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:20:57.908 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:20:57.911 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 59.3662ms
2025-05-10 22:20:57.913 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:20:57.916 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 78.8116ms
2025-05-10 22:21:02.225 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:21:02.232 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:02.233 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:21:02.298 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:21:02.304 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:21:02.306 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 70.5166ms
2025-05-10 22:21:02.308 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:02.310 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 84.1868ms
2025-05-10 22:21:02.398 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:21:02.402 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:02.404 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:21:02.417 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:21:02.426 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:21:02.429 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 19.0941ms
2025-05-10 22:21:02.431 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:02.433 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 34.7667ms
2025-05-10 22:21:05.061 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:21:05.064 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:05.065 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:21:05.074 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:21:05.078 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:21:05.080 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 12.2337ms
2025-05-10 22:21:05.084 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:05.088 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 27.1753ms
2025-05-10 22:21:05.182 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:21:05.193 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:05.194 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:21:05.208 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:21:05.216 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:21:05.220 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 20.5031ms
2025-05-10 22:21:05.223 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:05.225 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 42.9192ms
2025-05-10 22:21:22.009 -04:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:21:22.443 -04:00 [INF] Now listening on: https://localhost:7255
2025-05-10 22:21:22.445 -04:00 [INF] Now listening on: http://localhost:5072
2025-05-10 22:21:22.541 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:21:22.561 -04:00 [INF] Hosting environment: Development
2025-05-10 22:21:22.568 -04:00 [INF] Content root path: D:\DESARROLLO\2025\CleanArchitectureApi\Presentation
2025-05-10 22:21:23.015 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/index.html - null null
2025-05-10 22:21:23.372 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/index.html - 200 null text/html;charset=utf-8 381.3811ms
2025-05-10 22:21:23.564 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - null null
2025-05-10 22:21:23.691 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 128.2922ms
2025-05-10 22:21:23.707 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/_vs/browserLink - null null
2025-05-10 22:21:23.791 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.7249ms
2025-05-10 22:21:24.045 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - null null
2025-05-10 22:21:24.123 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7255/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.0126ms
2025-05-10 22:21:24.197 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:21:24.333 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:24.373 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:21:26.295 -04:00 [INF] Executed DbCommand (66ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:21:26.360 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:21:26.375 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 1996.6091ms
2025-05-10 22:21:26.378 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:26.394 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 2197.6463ms
2025-05-10 22:21:26.814 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - null null
2025-05-10 22:21:26.831 -04:00 [INF] Executing endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:26.833 -04:00 [INF] Route matched with {action = "GetAllWithScroll", controller = "PostCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.Entities.PostCategory]]] GetAllWithScroll(System.Nullable`1[System.DateTime], Int32) on controller Presentation.Controllers.PostCategoriesController (Presentation).
2025-05-10 22:21:26.876 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[PostContent], [u].[Username], [t].[UserId], [t].[CreatedAt], (
    SELECT COUNT(*)
    FROM [Likes] AS [l]
    WHERE [t].[Id] = [l].[PostId]), (
    SELECT COUNT(*)
    FROM [Comments] AS [c]
    WHERE [t].[Id] = [c].[PostId]), [u].[Id], [t0].[CategoryId], [t0].[Name], [t0].[PostId], [t0].[CategoryId0]
FROM (
    SELECT TOP(@__p_0) [p].[Id], [p].[CreatedAt], [p].[PostContent], [p].[UserId]
    FROM [Posts] AS [p]
    ORDER BY [p].[CreatedAt] DESC
) AS [t]
INNER JOIN [Users] AS [u] ON [t].[UserId] = [u].[Id]
LEFT JOIN (
    SELECT [c0].[Id] AS [CategoryId], [c0].[Name], [p0].[PostId], [p0].[CategoryId] AS [CategoryId0]
    FROM [PostCategories] AS [p0]
    INNER JOIN [Categories] AS [c0] ON [p0].[CategoryId] = [c0].[Id]
) AS [t0] ON [t].[Id] = [t0].[PostId]
ORDER BY [t].[CreatedAt] DESC, [t].[Id], [u].[Id], [t0].[PostId], [t0].[CategoryId0]
2025-05-10 22:21:26.882 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.PostWithCategoriesDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-10 22:21:26.884 -04:00 [INF] Executed action Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation) in 48.5071ms
2025-05-10 22:21:26.886 -04:00 [INF] Executed endpoint 'Presentation.Controllers.PostCategoriesController.GetAllWithScroll (Presentation)'
2025-05-10 22:21:26.889 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7255/api/PostCategories/scroll?lastPostDate=&take=4 - 200 null application/json; charset=utf-8 75.386ms
